<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
    <meta name="description" content="awk:æ–‡æœ¬å’Œæ•°æ®è¿›è¡Œå¤„ç†çš„ç¼–ç¨‹è¯­è¨€">
    <meta name="keywords" content="Linux,Command,å‘½ä»¤å¤§å…¨,Linuxå‘½ä»¤æ‰‹å†Œ,awk,æ–‡æœ¬å’Œæ•°æ®è¿›è¡Œå¤„ç†çš„ç¼–ç¨‹è¯­è¨€">
    <title>awk å‘½ä»¤ï¼ŒLinux awk å‘½ä»¤è¯¦è§£ï¼šæ–‡æœ¬å’Œæ•°æ®è¿›è¡Œå¤„ç†çš„ç¼–ç¨‹è¯­è¨€ -  Linux å‘½ä»¤æœç´¢å¼•æ“</title>
    <link rel="shortcut icon" href="../img/favicon.ico">
    <link rel="stylesheet" type="text/css" href="../css/index.css?v=1656048690054">
    <script src="../js/dark-mode.min.js"></script>
    <script type="module" src="../js/github-corners.js"></script>
</head>
<body>
<dark-mode permanent dark="Dark" light="Light" style="position: fixed;left: 10px;top: 8px; z-index: 999;"></dark-mode>
<!--<github-corners target="__blank" z-index="999" position="fixed" href="https://github.com/deemoprobe/linux-command"></github-corners>-->
<div class="header header_list">
  <div class="header_inner">
      <div class="logo">
          <a href="/">
<span style="font-size: medium;font-weight:700"> ğŸ  åšå®¢ </span>  
          </a>
      </div>
      <div class="search">
          <ul class="search-list" id="result">
            <!-- <li><a href="#"><strong>find</strong> - æŒ‡å®šç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶ã€‚</a></li> -->
          </ul>
          <input type="text" class="query" id="query" autocomplete="off" autofocus="autofocus" placeholder="Linux å‘½ä»¤æœç´¢"/>
          <div class="enter-input">
              <input type="hidden" id="current_path" value="/c/awk.html">
              <button id="search_btn">æœç´¢</button>
          </div>
      </div>
  </div>
</div>
<script type="text/javascript" src="../js/copy-to-clipboard.js"></script>

<div class="markdown-body">





<script>const __TEMPLATE__ = document.createElement('template');
__TEMPLATE__.innerHTML = `
<style>

markdown-style h1:hover a.anchor .octicon-link:before,
markdown-style h2:hover a.anchor .octicon-link:before,
markdown-style h3:hover a.anchor .octicon-link:before,
markdown-style h4:hover a.anchor .octicon-link:before,
markdown-style h5:hover a.anchor .octicon-link:before,
markdown-style h6:hover a.anchor .octicon-link:before {
  width: 16px;
  height: 16px;
  content: ' ';
  display: inline-block;
  background-color: currentColor;
  -webkit-mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
  mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
}
[data-color-mode*='light'], [data-color-mode*='light'] body, markdown-style[theme*='light'] { --color-prettylights-syntax-comment: #6e7781; --color-prettylights-syntax-constant: #0550ae; --color-prettylights-syntax-entity: #8250df; --color-prettylights-syntax-storage-modifier-import: #24292f; --color-prettylights-syntax-entity-tag: #116329; --color-prettylights-syntax-keyword: #cf222e; --color-prettylights-syntax-string: #0a3069; --color-prettylights-syntax-variable: #953800; --color-prettylights-syntax-brackethighlighter-unmatched: #82071e; --color-prettylights-syntax-invalid-illegal-text: #f6f8fa; --color-prettylights-syntax-invalid-illegal-bg: #82071e; --color-prettylights-syntax-carriage-return-text: #f6f8fa; --color-prettylights-syntax-carriage-return-bg: #cf222e; --color-prettylights-syntax-string-regexp: #116329; --color-prettylights-syntax-markup-list: #3b2300; --color-prettylights-syntax-markup-heading: #0550ae; --color-prettylights-syntax-markup-italic: #24292f; --color-prettylights-syntax-markup-bold: #24292f; --color-prettylights-syntax-markup-deleted-text: #82071e; --color-prettylights-syntax-markup-deleted-bg: #FFEBE9; --color-prettylights-syntax-markup-inserted-text: #116329; --color-prettylights-syntax-markup-inserted-bg: #dafbe1; --color-prettylights-syntax-markup-changed-text: #953800; --color-prettylights-syntax-markup-changed-bg: #ffd8b5; --color-prettylights-syntax-markup-ignored-text: #eaeef2; --color-prettylights-syntax-markup-ignored-bg: #0550ae; --color-prettylights-syntax-meta-diff-range: #8250df; --color-prettylights-syntax-brackethighlighter-angle: #57606a; --color-prettylights-syntax-sublimelinter-gutter-mark: #8c959f; --color-prettylights-syntax-constant-other-reference-link: #0a3069; --color-fg-default: #24292f; --color-fg-muted: #57606a; --color-fg-subtle: #6e7781; --color-canvas-default: #ffffff; --color-canvas-subtle: #f6f8fa; --color-border-default: #d0d7de; --color-border-muted: hsla(210,18%,87%,1); --color-neutral-muted: rgba(175,184,193,0.2); --color-accent-fg: #0969da; --color-accent-emphasis: #0969da; --color-attention-subtle: #fff8c5; --color-danger-fg: #cf222e; } [data-color-mode*='light'], [data-color-mode*='light'] body, markdown-style[theme*='dark'] { --color-prettylights-syntax-comment: #8b949e; --color-prettylights-syntax-constant: #79c0ff; --color-prettylights-syntax-entity: #d2a8ff; --color-prettylights-syntax-storage-modifier-import: #c9d1d9; --color-prettylights-syntax-entity-tag: #7ee787; --color-prettylights-syntax-keyword: #ff7b72; --color-prettylights-syntax-string: #a5d6ff; --color-prettylights-syntax-variable: #ffa657; --color-prettylights-syntax-brackethighlighter-unmatched: #f85149; --color-prettylights-syntax-invalid-illegal-text: #f0f6fc; --color-prettylights-syntax-invalid-illegal-bg: #8e1519; --color-prettylights-syntax-carriage-return-text: #f0f6fc; --color-prettylights-syntax-carriage-return-bg: #b62324; --color-prettylights-syntax-string-regexp: #7ee787; --color-prettylights-syntax-markup-list: #f2cc60; --color-prettylights-syntax-markup-heading: #1f6feb; --color-prettylights-syntax-markup-italic: #c9d1d9; --color-prettylights-syntax-markup-bold: #c9d1d9; --color-prettylights-syntax-markup-deleted-text: #ffdcd7; --color-prettylights-syntax-markup-deleted-bg: #67060c; --color-prettylights-syntax-markup-inserted-text: #aff5b4; --color-prettylights-syntax-markup-inserted-bg: #033a16; --color-prettylights-syntax-markup-changed-text: #ffdfb6; --color-prettylights-syntax-markup-changed-bg: #5a1e02; --color-prettylights-syntax-markup-ignored-text: #c9d1d9; --color-prettylights-syntax-markup-ignored-bg: #1158c7; --color-prettylights-syntax-meta-diff-range: #d2a8ff; --color-prettylights-syntax-brackethighlighter-angle: #8b949e; --color-prettylights-syntax-sublimelinter-gutter-mark: #484f58; --color-prettylights-syntax-constant-other-reference-link: #a5d6ff; --color-fg-default: #c9d1d9; --color-fg-muted: #8b949e; --color-fg-subtle: #484f58; --color-canvas-default: #0d1117; --color-canvas-subtle: #161b22; --color-border-default: #30363d; --color-border-muted: #21262d; --color-neutral-muted: rgba(110,118,129,0.4); --color-accent-fg: #58a6ff; --color-accent-emphasis: #1f6feb; --color-attention-subtle: rgba(187,128,9,0.15); --color-danger-fg: #f85149; } markdown-style { display: block; -webkit-text-size-adjust: 100%; font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"; font-size: 16px; line-height: 1.5; word-wrap: break-word; color: var(--color-fg-default); background-color: var(--color-canvas-default); } markdown-style details, markdown-style figcaption, markdown-style figure { display: block; } markdown-style summary { display: list-item; } markdown-style [hidden] { display: none !important; } markdown-style a { background-color: transparent; color: var(--color-accent-fg); text-decoration: none; } markdown-style a:active, markdown-style a:hover { outline-width: 0; } markdown-style abbr[title] { border-bottom: none; text-decoration: underline dotted; } markdown-style b, markdown-style strong { font-weight: 600; } markdown-style dfn { font-style: italic; } markdown-style h1 { margin: .67em 0; font-weight: 600; padding-bottom: .3em; font-size: 2em; border-bottom: 1px solid var(--color-border-muted); } markdown-style mark { background-color: var(--color-attention-subtle); color: var(--color-text-primary); } markdown-style small { font-size: 90%; } markdown-style sub, markdown-style sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; } markdown-style sub { bottom: -0.25em; } markdown-style sup { top: -0.5em; } markdown-style img { border-style: none; max-width: 100%; box-sizing: content-box; background-color: var(--color-canvas-default); } markdown-style code, markdown-style kbd, markdown-style pre, markdown-style samp { font-family: monospace,monospace; font-size: 1em; } markdown-style figure { margin: 1em 40px; } markdown-style hr { box-sizing: content-box; overflow: hidden; background: transparent; border-bottom: 1px solid var(--color-border-muted); height: .25em; padding: 0; margin: 24px 0; background-color: var(--color-border-default); border: 0; } markdown-style input { font: inherit; margin: 0; overflow: visible; font-family: inherit; font-size: inherit; line-height: inherit; } markdown-style [type=button], markdown-style [type=reset], markdown-style [type=submit] { -webkit-appearance: button; } markdown-style [type=button]::-moz-focus-inner, markdown-style [type=reset]::-moz-focus-inner, markdown-style [type=submit]::-moz-focus-inner { border-style: none; padding: 0; } markdown-style [type=button]:-moz-focusring, markdown-style [type=reset]:-moz-focusring, markdown-style [type=submit]:-moz-focusring { outline: 1px dotted ButtonText; } markdown-style [type=checkbox], markdown-style [type=radio] { box-sizing: border-box; padding: 0; } markdown-style [type=number]::-webkit-inner-spin-button, markdown-style [type=number]::-webkit-outer-spin-button { height: auto; } markdown-style [type=search] { -webkit-appearance: textfield; outline-offset: -2px; } markdown-style [type=search]::-webkit-search-cancel-button, markdown-style [type=search]::-webkit-search-decoration { -webkit-appearance: none; } markdown-style ::-webkit-input-placeholder { color: inherit; opacity: .54; } markdown-style ::-webkit-file-upload-button { -webkit-appearance: button; font: inherit; } markdown-style a:hover { text-decoration: underline; } markdown-style hr::before { display: table; content: ""; } markdown-style hr::after { display: table; clear: both; content: ""; } markdown-style table { border-spacing: 0; border-collapse: collapse; display: block; width: max-content; max-width: 100%; overflow: auto; } markdown-style td, markdown-style th { padding: 0; } markdown-style details summary { cursor: pointer; } markdown-style details:not([open])>*:not(summary) { display: none !important; } markdown-style kbd { display: inline-block; padding: 3px 5px; font: 11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; line-height: 10px; color: var(--color-fg-default); vertical-align: middle; background-color: var(--color-canvas-subtle); border: solid 1px var(--color-neutral-muted); border-bottom-color: var(--color-neutral-muted); border-radius: 6px; box-shadow: inset 0 -1px 0 var(--color-neutral-muted); } markdown-style h1, markdown-style h2, markdown-style h3, markdown-style h4, markdown-style h5, markdown-style h6 { margin-top: 24px; margin-bottom: 16px; font-weight: 600; line-height: 1.25; } markdown-style h2 { font-weight: 600; padding-bottom: .3em; font-size: 1.5em; border-bottom: 1px solid var(--color-border-muted); } markdown-style h3 { font-weight: 600; font-size: 1.25em; } markdown-style h4 { font-weight: 600; font-size: 1em; } markdown-style h5 { font-weight: 600; font-size: .875em; } markdown-style h6 { font-weight: 600; font-size: .85em; color: var(--color-fg-muted); } markdown-style p { margin-top: 0; margin-bottom: 10px; } markdown-style blockquote { margin: 0; padding: 0 1em; color: var(--color-fg-muted); border-left: .25em solid var(--color-border-default); } markdown-style ul, markdown-style ol { margin-top: 0; margin-bottom: 0; padding-left: 2em; } markdown-style ol ol, markdown-style ul ol { list-style-type: lower-roman; } markdown-style ul ul ol, markdown-style ul ol ol, markdown-style ol ul ol, markdown-style ol ol ol { list-style-type: lower-alpha; } markdown-style dd { margin-left: 0; } markdown-style tt, markdown-style code { font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; font-size: 12px; } markdown-style pre { margin-top: 0; margin-bottom: 0; font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; font-size: 12px; word-wrap: normal; } markdown-style .octicon { display: inline-block; overflow: visible !important; vertical-align: text-bottom; fill: currentColor; } markdown-style ::placeholder { color: var(--color-fg-subtle); opacity: 1; } markdown-style input::-webkit-outer-spin-button, markdown-style input::-webkit-inner-spin-button { margin: 0; -webkit-appearance: none; appearance: none; }
markdown-style .token.comment, markdown-style .token.prolog, markdown-style .token.doctype, markdown-style .token.cdata { color: var(--color-prettylights-syntax-comment); } markdown-style .token.namespace { opacity: 0.7; } markdown-style .token.tag, markdown-style .token.selector, markdown-style .token.constant, markdown-style .token.symbol, markdown-style .token.deleted { color: var(--color-prettylights-syntax-entity-tag); } markdown-style .token.maybe-class-name { color: var(--color-prettylights-syntax-variable); } markdown-style .token.property-access, markdown-style .token.operator, markdown-style .token.boolean, markdown-style .token.number, markdown-style .token.selector markdown-style .token.class, markdown-style .token.attr-name, markdown-style .token.string, markdown-style .token.char, markdown-style .token.builtin { color: var(--color-prettylights-syntax-constant); } markdown-style .token.deleted { color: var(--color-prettylights-syntax-markup-deleted-text); } markdown-style .token.property { color: var(--color-prettylights-syntax-constant); } markdown-style .token.punctuation { color: var(--color-prettylights-syntax-markup-bold); } markdown-style .token.function { color: var(--color-prettylights-syntax-entity); } markdown-style .code-line .token.deleted { background-color: var(--color-prettylights-syntax-markup-deleted-bg); } markdown-style .token.inserted { color: var(--color-prettylights-syntax-markup-inserted-text); } markdown-style .code-line .token.inserted { background-color: var(--color-prettylights-syntax-markup-inserted-bg); } markdown-style .token.variable { color: var(--color-prettylights-syntax-constant); } markdown-style .token.entity, markdown-style .token.url, .language-css markdown-style .token.string, .style markdown-style .token.string { color: var(--color-prettylights-syntax-string); } markdown-style .token.color, markdown-style .token.atrule, markdown-style .token.attr-value, markdown-style .token.function, markdown-style .token.class-name { color: var(--color-prettylights-syntax-string); } markdown-style .token.rule, markdown-style .token.regex, markdown-style .token.important, markdown-style .token.keyword { color: var(--color-prettylights-syntax-keyword); } markdown-style .token.coord { color: var(--color-prettylights-syntax-meta-diff-range); } markdown-style .token.important, markdown-style .token.bold { font-weight: bold; } markdown-style .token.italic { font-style: italic; } markdown-style .token.entity { cursor: help; }
markdown-style [data-catalyst] { display: block; } markdown-style g-emoji { font-family: "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"; font-size: 1em; font-style: normal !important; font-weight: 400; line-height: 1; vertical-align: -0.075em; } markdown-style g-emoji img { width: 1em; height: 1em; } markdown-style::before { display: table; content: ""; } markdown-style::after { display: table; clear: both; content: ""; } markdown-style>*:first-child { margin-top: 0 !important; } markdown-style>*:last-child { margin-bottom: 0 !important; } markdown-style a:not([href]) { color: inherit; text-decoration: none; } markdown-style .absent { color: var(--color-danger-fg); } markdown-style .anchor { float: left; padding-right: 4px; margin-left: -20px; line-height: 1; } markdown-style .anchor:focus { outline: none; } markdown-style p, markdown-style blockquote, markdown-style ul, markdown-style ol, markdown-style dl, markdown-style table, markdown-style pre, markdown-style details { margin-top: 0; margin-bottom: 16px; } markdown-style blockquote>:first-child { margin-top: 0; } markdown-style blockquote>:last-child { margin-bottom: 0; } markdown-style sup>a::before { content: "["; } markdown-style sup>a::after { content: "]"; } markdown-style h1 .octicon-link, markdown-style h2 .octicon-link, markdown-style h3 .octicon-link, markdown-style h4 .octicon-link, markdown-style h5 .octicon-link, markdown-style h6 .octicon-link { color: var(--color-fg-default); vertical-align: middle; visibility: hidden; } markdown-style h1:hover .anchor, markdown-style h2:hover .anchor, markdown-style h3:hover .anchor, markdown-style h4:hover .anchor, markdown-style h5:hover .anchor, markdown-style h6:hover .anchor { text-decoration: none; } markdown-style h1:hover .anchor .octicon-link, markdown-style h2:hover .anchor .octicon-link, markdown-style h3:hover .anchor .octicon-link, markdown-style h4:hover .anchor .octicon-link, markdown-style h5:hover .anchor .octicon-link, markdown-style h6:hover .anchor .octicon-link { visibility: visible; } markdown-style h1 tt, markdown-style h1 code, markdown-style h2 tt, markdown-style h2 code, markdown-style h3 tt, markdown-style h3 code, markdown-style h4 tt, markdown-style h4 code, markdown-style h5 tt, markdown-style h5 code, markdown-style h6 tt, markdown-style h6 code { padding: 0 .2em; font-size: inherit; } markdown-style ul.no-list, markdown-style ol.no-list { padding: 0; list-style-type: none; } markdown-style ol[type="1"] { list-style-type: decimal; } markdown-style ol[type=a] { list-style-type: lower-alpha; } markdown-style ol[type=i] { list-style-type: lower-roman; } markdown-style div>ol:not([type]) { list-style-type: decimal; } markdown-style ul ul, markdown-style ul ol, markdown-style ol ol, markdown-style ol ul { margin-top: 0; margin-bottom: 0; } markdown-style li>p { margin-top: 16px; } markdown-style li+li { margin-top: .25em; } markdown-style dl { padding: 0; } markdown-style dl dt { padding: 0; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: 600; } markdown-style dl dd { padding: 0 16px; margin-bottom: 16px; } markdown-style table th { font-weight: 600; } markdown-style table th, markdown-style table td { padding: 6px 13px; border: 1px solid var(--color-border-default); } markdown-style table tr { background-color: var(--color-canvas-default); border-top: 1px solid var(--color-border-muted); } markdown-style table tr:nth-child(2n) { background-color: var(--color-canvas-subtle); } markdown-style table img { background-color: transparent; vertical-align: middle; } markdown-style img[align=right] { padding-left: 20px; } markdown-style img[align=left] { padding-right: 20px; } markdown-style .emoji { max-width: none; vertical-align: text-top; background-color: transparent; } markdown-style span.frame { display: block; overflow: hidden; } markdown-style span.frame>span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0 0; overflow: hidden; border: 1px solid var(--color-border-default); } markdown-style span.frame span img { display: block; float: left; } markdown-style span.frame span span { display: block; padding: 5px 0 0; clear: both; color: var(--color-fg-default); } markdown-style span.align-center { display: block; overflow: hidden; clear: both; } markdown-style span.align-center>span { display: block; margin: 13px auto 0; overflow: hidden; text-align: center; } markdown-style span.align-center span img { margin: 0 auto; text-align: center; } markdown-style span.align-right { display: block; overflow: hidden; clear: both; } markdown-style span.align-right>span { display: block; margin: 13px 0 0; overflow: hidden; text-align: right; } markdown-style span.align-right span img { margin: 0; text-align: right; } markdown-style span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; } markdown-style span.float-left span { margin: 13px 0 0; } markdown-style span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; } markdown-style span.float-right>span { display: block; margin: 13px auto 0; overflow: hidden; text-align: right; } markdown-style code, markdown-style tt { padding: .2em .4em; margin: 0; font-size: 85%; background-color: var(--color-neutral-muted); border-radius: 6px; } markdown-style code br, markdown-style tt br { display: none; } markdown-style del code { text-decoration: inherit; } markdown-style pre code { font-size: 100%; } markdown-style pre>code { padding: 0; margin: 0; word-break: normal; white-space: pre; background: transparent; border: 0; } markdown-style pre { position: relative; font-size: 85%; line-height: 1.45; background-color: var(--color-canvas-subtle); border-radius: 6px; } markdown-style pre code, markdown-style pre tt { display: inline; max-width: auto; padding: 0; margin: 0; overflow: visible; line-height: inherit; word-wrap: normal; background-color: transparent; border: 0; } markdown-style pre > code { padding: 16px; overflow: auto; display: block; } markdown-style .csv-data td, markdown-style .csv-data th { padding: 5px; overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; } markdown-style .csv-data .blob-num { padding: 10px 8px 9px; text-align: right; background: var(--color-canvas-default); border: 0; } markdown-style .csv-data tr { border-top: 0; } markdown-style .csv-data th { font-weight: 600; background: var(--color-canvas-subtle); border-top: 0; } markdown-style .footnotes { font-size: 12px; color: var(--color-fg-muted); border-top: 1px solid var(--color-border-default); } markdown-style .footnotes ol { padding-left: 16px; } markdown-style .footnotes li { position: relative; } markdown-style .footnotes li:target::before { position: absolute; top: -8px; right: -8px; bottom: -8px; left: -24px; pointer-events: none; content: ""; border: 2px solid var(--color-accent-emphasis); border-radius: 6px; } markdown-style .footnotes li:target { color: var(--color-fg-default); } markdown-style .footnotes .data-footnote-backref g-emoji { font-family: monospace; } markdown-style .task-list-item { list-style-type: none; } markdown-style .task-list-item label { font-weight: 400; } markdown-style .task-list-item.enabled label { cursor: pointer; } markdown-style .task-list-item+.task-list-item { margin-top: 3px; } markdown-style .task-list-item .handle { display: none; } markdown-style .task-list-item-checkbox, markdown-style input[type="checkbox"] { margin: 0 .2em .25em -1.6em; vertical-align: middle; } markdown-style .contains-task-list:dir(rtl) .task-list-item-checkbox, markdown-style .contains-task-list:dir(rtl) input[type="checkbox"] { margin: 0 -1.6em .25em .2em; } markdown-style ::-webkit-calendar-picker-indicator { filter: invert(50%); }
</style>
<slot></slot>
`;
class MarkdownStyle extends HTMLElement {
    constructor() {
        super();
        this.shadow = this.attachShadow({ mode: 'open' });
        this.shadow.appendChild(__TEMPLATE__.content.cloneNode(true));
        const style = Array.prototype.slice
            .call(this.shadow.children)
            .find((item) => item.tagName === 'STYLE');
        if (style) {
            const id = '__MARKDOWN_STYLE__';
            const findStyle = document.getElementById(id);
            if (!findStyle) {
                style.id = id;
                document.head.append(style);
            }
        }
    }
    get theme() {
        const value = this.getAttribute('theme');
        return value === null ? '' : value;
    }
    set theme(name) {
        this.setAttribute('theme', name);
    }
    connectedCallback() {
        if (!this.theme) {
            const { colorMode } = document.documentElement.dataset;
            this.theme = colorMode;
            const observer = new MutationObserver((mutationsList, observer) => {
                this.theme = document.documentElement.dataset.colorMode;
            });
            observer.observe(document.documentElement, { attributes: true });
            window.matchMedia('(prefers-color-scheme: light)').onchange = (event) => {
                this.theme = event.matches ? 'light' : 'dark';
            };
            window.matchMedia('(prefers-color-scheme: dark)').onchange = (event) => {
                this.theme = event.matches ? 'dark' : 'light';
            };
        }
    }
}
customElements.define('markdown-style', MarkdownStyle);</script><markdown-style style="max-width: 960px; margin: 0 auto 60px auto; padding: 8px" class="markdown-body">
<h1 id="awk"><a class="anchor" aria-hidden="true" tabindex="-1" href="#awk"><span class="octicon octicon-link"></span></a>awk</h1>
<p>æ–‡æœ¬å’Œæ•°æ®è¿›è¡Œå¤„ç†çš„ç¼–ç¨‹è¯­è¨€</p>
<h2 id="è¡¥å……è¯´æ˜"><a class="anchor" aria-hidden="true" tabindex="-1" href="#è¡¥å……è¯´æ˜"><span class="octicon octicon-link"></span></a>è¡¥å……è¯´æ˜</h2>
<p><strong>awk</strong> æ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œç”¨äºåœ¨linux/unixä¸‹å¯¹æ–‡æœ¬å’Œæ•°æ®è¿›è¡Œå¤„ç†ã€‚æ•°æ®å¯ä»¥æ¥è‡ªæ ‡å‡†è¾“å…¥(stdin)ã€ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼Œæˆ–å…¶å®ƒå‘½ä»¤çš„è¾“å‡ºã€‚å®ƒæ”¯æŒç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°å’ŒåŠ¨æ€æ­£åˆ™è¡¨è¾¾å¼ç­‰å…ˆè¿›åŠŸèƒ½ï¼Œæ˜¯linux/unixä¸‹çš„ä¸€ä¸ªå¼ºå¤§ç¼–ç¨‹å·¥å…·ã€‚å®ƒåœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ï¼Œä½†æ›´å¤šæ˜¯ä½œä¸ºè„šæœ¬æ¥ä½¿ç”¨ã€‚awkæœ‰å¾ˆå¤šå†…å»ºçš„åŠŸèƒ½ï¼Œæ¯”å¦‚æ•°ç»„ã€å‡½æ•°ç­‰ï¼Œè¿™æ˜¯å®ƒå’ŒCè¯­è¨€çš„ç›¸åŒä¹‹å¤„ï¼Œçµæ´»æ€§æ˜¯awkæœ€å¤§çš„ä¼˜åŠ¿ã€‚</p>
<h2 id="awkå‘½ä»¤æ ¼å¼å’Œé€‰é¡¹"><a class="anchor" aria-hidden="true" tabindex="-1" href="#awkå‘½ä»¤æ ¼å¼å’Œé€‰é¡¹"><span class="octicon octicon-link"></span></a>awkå‘½ä»¤æ ¼å¼å’Œé€‰é¡¹</h2>
<p><strong>è¯­æ³•å½¢å¼</strong></p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token string">'script'</span> <span class="token assign-left variable">var</span><span class="token operator">=</span>value file<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="2"><span class="token function">awk</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> -f scriptfile <span class="token assign-left variable">var</span><span class="token operator">=</span>value file<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
</span></code><div onclick="copied(this)" data-code="awk [options] &#x27;script&#x27; var=value file(s)
awk [options] -f scriptfile var=value file(s)
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>å¸¸ç”¨å‘½ä»¤é€‰é¡¹</strong></p>
<ul>
  <li><strong>-F fs</strong> fsæŒ‡å®šè¾“å…¥åˆ†éš”ç¬¦ï¼Œfså¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚-F:ï¼Œé»˜è®¤çš„åˆ†éš”ç¬¦æ˜¯è¿ç»­çš„ç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦</li>
  <li><strong>-v var=value</strong> èµ‹å€¼ä¸€ä¸ªç”¨æˆ·å®šä¹‰å˜é‡ï¼Œå°†å¤–éƒ¨å˜é‡ä¼ é€’ç»™awk</li>
  <li><strong>-f scripfile</strong> ä»è„šæœ¬æ–‡ä»¶ä¸­è¯»å–awkå‘½ä»¤</li>
  <li><strong>-m[fr] val</strong> å¯¹valå€¼è®¾ç½®å†…åœ¨é™åˆ¶ï¼Œ-mfé€‰é¡¹é™åˆ¶åˆ†é…ç»™valçš„æœ€å¤§å—æ•°ç›®ï¼›-mré€‰é¡¹é™åˆ¶è®°å½•çš„æœ€å¤§æ•°ç›®ã€‚è¿™ä¸¤ä¸ªåŠŸèƒ½æ˜¯Bellå®éªŒå®¤ç‰ˆawkçš„æ‰©å±•åŠŸèƒ½ï¼Œåœ¨æ ‡å‡†awkä¸­ä¸é€‚ç”¨ã€‚</li>
</ul>
<h2 id="awkæ¨¡å¼å’Œæ“ä½œ"><a class="anchor" aria-hidden="true" tabindex="-1" href="#awkæ¨¡å¼å’Œæ“ä½œ"><span class="octicon octicon-link"></span></a>awkæ¨¡å¼å’Œæ“ä½œ</h2>
<p>awkè„šæœ¬æ˜¯ç”±æ¨¡å¼å’Œæ“ä½œç»„æˆçš„ã€‚</p>
<h3 id="æ¨¡å¼"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æ¨¡å¼"><span class="octicon octicon-link"></span></a>æ¨¡å¼</h3>
<p>æ¨¡å¼å¯ä»¥æ˜¯ä»¥ä¸‹ä»»æ„ä¸€ä¸ªï¼š</p>
<ul>
  <li>/æ­£åˆ™è¡¨è¾¾å¼/ï¼šä½¿ç”¨é€šé…ç¬¦çš„æ‰©å±•é›†ã€‚</li>
  <li>å…³ç³»è¡¨è¾¾å¼ï¼šä½¿ç”¨è¿ç®—ç¬¦è¿›è¡Œæ“ä½œï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å­—çš„æ¯”è¾ƒæµ‹è¯•ã€‚</li>
  <li>æ¨¡å¼åŒ¹é…è¡¨è¾¾å¼ï¼šç”¨è¿ç®—ç¬¦<code>~</code>ï¼ˆåŒ¹é…ï¼‰å’Œ<code>!~</code>ï¼ˆä¸åŒ¹é…ï¼‰ã€‚</li>
  <li>BEGINè¯­å¥å—ã€patternè¯­å¥å—ã€ENDè¯­å¥å—ï¼šå‚è§awkçš„å·¥ä½œåŸç†</li>
</ul>
<h3 id="æ“ä½œ"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æ“ä½œ"><span class="octicon octicon-link"></span></a>æ“ä½œ</h3>
<p>æ“ä½œç”±ä¸€ä¸ªæˆ–å¤šä¸ªå‘½ä»¤ã€å‡½æ•°ã€è¡¨è¾¾å¼ç»„æˆï¼Œä¹‹é—´ç”±æ¢è¡Œç¬¦æˆ–åˆ†å·éš”å¼€ï¼Œå¹¶ä½äºå¤§æ‹¬å·å†…ï¼Œä¸»è¦éƒ¨åˆ†æ˜¯ï¼š</p>
<ul>
  <li>å˜é‡æˆ–æ•°ç»„èµ‹å€¼</li>
  <li>è¾“å‡ºå‘½ä»¤</li>
  <li>å†…ç½®å‡½æ•°</li>
  <li>æ§åˆ¶æµè¯­å¥</li>
</ul>
<h2 id="awkè„šæœ¬åŸºæœ¬ç»“æ„"><a class="anchor" aria-hidden="true" tabindex="-1" href="#awkè„šæœ¬åŸºæœ¬ç»“æ„"><span class="octicon octicon-link"></span></a>awkè„šæœ¬åŸºæœ¬ç»“æ„</h2>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{ print "start" } pattern{ commands } END{ print "end" }'</span> <span class="token function">file</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{ print &#x22;start&#x22; } pattern{ commands } END{ print &#x22;end&#x22; }&#x27; file
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>ä¸€ä¸ªawkè„šæœ¬é€šå¸¸ç”±ï¼šBEGINè¯­å¥å—ã€èƒ½å¤Ÿä½¿ç”¨æ¨¡å¼åŒ¹é…çš„é€šç”¨è¯­å¥å—ã€ENDè¯­å¥å—3éƒ¨åˆ†ç»„æˆï¼Œè¿™ä¸‰ä¸ªéƒ¨åˆ†æ˜¯å¯é€‰çš„ã€‚ä»»æ„ä¸€ä¸ªéƒ¨åˆ†éƒ½å¯ä»¥ä¸å‡ºç°åœ¨è„šæœ¬ä¸­ï¼Œè„šæœ¬é€šå¸¸æ˜¯è¢« <strong>å•å¼•å·</strong> ä¸­ï¼Œä¾‹å¦‚ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{ i=0 } { i++ } END{ print i }'</span> filename
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{ i=0 } { i++ } END{ print i }&#x27; filename
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="awkçš„å·¥ä½œåŸç†"><a class="anchor" aria-hidden="true" tabindex="-1" href="#awkçš„å·¥ä½œåŸç†"><span class="octicon octicon-link"></span></a>awkçš„å·¥ä½œåŸç†</h3>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{ commands } pattern{ commands } END{ commands }'</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{ commands } pattern{ commands } END{ commands }&#x27;
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
  <li>ç¬¬ä¸€æ­¥ï¼šæ‰§è¡Œ<code>BEGIN{ commands }</code>è¯­å¥å—ä¸­çš„è¯­å¥ï¼›</li>
  <li>ç¬¬äºŒæ­¥ï¼šä»æ–‡ä»¶æˆ–æ ‡å‡†è¾“å…¥(stdin)è¯»å–ä¸€è¡Œï¼Œç„¶åæ‰§è¡Œ<code>pattern{ commands }</code>è¯­å¥å—ï¼Œå®ƒé€è¡Œæ‰«ææ–‡ä»¶ï¼Œä»ç¬¬ä¸€è¡Œåˆ°æœ€åä¸€è¡Œé‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æ–‡ä»¶å…¨éƒ¨è¢«è¯»å–å®Œæ¯•ã€‚</li>
  <li>ç¬¬ä¸‰æ­¥ï¼šå½“è¯»è‡³è¾“å…¥æµæœ«å°¾æ—¶ï¼Œæ‰§è¡Œ<code>END{ commands }</code>è¯­å¥å—ã€‚</li>
</ul>
<p><strong>BEGINè¯­å¥å—</strong> åœ¨awkå¼€å§‹ä»è¾“å…¥æµä¸­è¯»å–è¡Œ <strong>ä¹‹å‰</strong> è¢«æ‰§è¡Œï¼Œè¿™æ˜¯ä¸€ä¸ªå¯é€‰çš„è¯­å¥å—ï¼Œæ¯”å¦‚å˜é‡åˆå§‹åŒ–ã€æ‰“å°è¾“å‡ºè¡¨æ ¼çš„è¡¨å¤´ç­‰è¯­å¥é€šå¸¸å¯ä»¥å†™åœ¨BEGINè¯­å¥å—ä¸­ã€‚</p>
<p><strong>ENDè¯­å¥å—</strong> åœ¨awkä»è¾“å…¥æµä¸­è¯»å–å®Œæ‰€æœ‰çš„è¡Œ <strong>ä¹‹å</strong> å³è¢«æ‰§è¡Œï¼Œæ¯”å¦‚æ‰“å°æ‰€æœ‰è¡Œçš„åˆ†æç»“æœè¿™ç±»ä¿¡æ¯æ±‡æ€»éƒ½æ˜¯åœ¨ENDè¯­å¥å—ä¸­å®Œæˆï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªå¯é€‰è¯­å¥å—ã€‚</p>
<p><strong>patternè¯­å¥å—</strong> ä¸­çš„é€šç”¨å‘½ä»¤æ˜¯æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œå®ƒä¹Ÿæ˜¯å¯é€‰çš„ã€‚å¦‚æœæ²¡æœ‰æä¾›patternè¯­å¥å—ï¼Œåˆ™é»˜è®¤æ‰§è¡Œ<code>{ print }</code>ï¼Œå³æ‰“å°æ¯ä¸€ä¸ªè¯»å–åˆ°çš„è¡Œï¼Œawkè¯»å–çš„æ¯ä¸€è¡Œéƒ½ä¼šæ‰§è¡Œè¯¥è¯­å¥å—ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token builtin class-name">echo</span> -e <span class="token string">"A line 1<span class="token entity" title="\n">\n</span>A line 2"</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'BEGIN{ print "Start" } { print } END{ print "End" }'</span>
</span><span class="code-line line-number" line="2">Start
</span><span class="code-line line-number" line="3">A line <span class="token number">1</span>
</span><span class="code-line line-number" line="4">A line <span class="token number">2</span>
</span><span class="code-line line-number" line="5">End
</span></code><div onclick="copied(this)" data-code="echo -e &#x22;A line 1\nA line 2&#x22; | awk &#x27;BEGIN{ print &#x22;Start&#x22; } { print } END{ print &#x22;End&#x22; }&#x27;
Start
A line 1
A line 2
End
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>å½“ä½¿ç”¨ä¸å¸¦å‚æ•°çš„<code>print</code>æ—¶ï¼Œå®ƒå°±æ‰“å°å½“å‰è¡Œï¼Œå½“<code>print</code>çš„å‚æ•°æ˜¯ä»¥é€—å·è¿›è¡Œåˆ†éš”æ—¶ï¼Œæ‰“å°æ—¶åˆ™ä»¥ç©ºæ ¼ä½œä¸ºå®šç•Œç¬¦ã€‚åœ¨awkçš„printè¯­å¥å—ä¸­åŒå¼•å·æ˜¯è¢«å½“ä½œæ‹¼æ¥ç¬¦ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token builtin class-name">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{ var1="v1"; var2="v2"; var3="v3"; print var1,var2,var3; }'</span> 
</span><span class="code-line line-number" line="2">v1 v2 v3
</span></code><div onclick="copied(this)" data-code="echo | awk &#x27;{ var1=&#x22;v1&#x22;; var2=&#x22;v2&#x22;; var3=&#x22;v3&#x22;; print var1,var2,var3; }&#x27; 
v1 v2 v3
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>åŒå¼•å·æ‹¼æ¥ä½¿ç”¨ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token builtin class-name">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{ var1="v1"; var2="v2"; var3="v3"; print var1"="var2"="var3; }'</span>
</span><span class="code-line line-number" line="2"><span class="token assign-left variable">v1</span><span class="token operator">=</span>v2<span class="token operator">=</span>v3
</span></code><div onclick="copied(this)" data-code="echo | awk &#x27;{ var1=&#x22;v1&#x22;; var2=&#x22;v2&#x22;; var3=&#x22;v3&#x22;; print var1&#x22;=&#x22;var2&#x22;=&#x22;var3; }&#x27;
v1=v2=v3
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>{ }ç±»ä¼¼ä¸€ä¸ªå¾ªç¯ä½“ï¼Œä¼šå¯¹æ–‡ä»¶ä¸­çš„æ¯ä¸€è¡Œè¿›è¡Œè¿­ä»£ï¼Œé€šå¸¸å˜é‡åˆå§‹åŒ–è¯­å¥ï¼ˆå¦‚ï¼ši=0ï¼‰ä»¥åŠæ‰“å°æ–‡ä»¶å¤´éƒ¨çš„è¯­å¥æ”¾å…¥BEGINè¯­å¥å—ä¸­ï¼Œå°†æ‰“å°çš„ç»“æœç­‰è¯­å¥æ”¾åœ¨ENDè¯­å¥å—ä¸­ã€‚</p>
<h2 id="awkå†…ç½®å˜é‡é¢„å®šä¹‰å˜é‡"><a class="anchor" aria-hidden="true" tabindex="-1" href="#awkå†…ç½®å˜é‡é¢„å®šä¹‰å˜é‡"><span class="octicon octicon-link"></span></a>awkå†…ç½®å˜é‡ï¼ˆé¢„å®šä¹‰å˜é‡ï¼‰</h2>
<p>è¯´æ˜ï¼š[A][N][P][G]è¡¨ç¤ºç¬¬ä¸€ä¸ªæ”¯æŒå˜é‡çš„å·¥å…·ï¼Œ[A]=awkã€[N]=nawkã€[P]=POSIXawkã€[G]=gawk</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"> **<span class="token variable">$n</span>**  å½“å‰è®°å½•çš„ç¬¬nä¸ªå­—æ®µï¼Œæ¯”å¦‚nä¸º1è¡¨ç¤ºç¬¬ä¸€ä¸ªå­—æ®µï¼Œnä¸º2è¡¨ç¤ºç¬¬äºŒä¸ªå­—æ®µã€‚ 
</span><span class="code-line line-number" line="2"> **<span class="token variable">$0</span>**  è¿™ä¸ªå˜é‡åŒ…å«æ‰§è¡Œè¿‡ç¨‹ä¸­å½“å‰è¡Œçš„æ–‡æœ¬å†…å®¹ã€‚
</span><span class="code-line line-number" line="3"><span class="token punctuation">[</span>N<span class="token punctuation">]</span>  **ARGC**  å‘½ä»¤è¡Œå‚æ•°çš„æ•°ç›®ã€‚
</span><span class="code-line line-number" line="4"><span class="token punctuation">[</span>G<span class="token punctuation">]</span>  **ARGIND**  å‘½ä»¤è¡Œä¸­å½“å‰æ–‡ä»¶çš„ä½ç½®ï¼ˆä»0å¼€å§‹ç®—ï¼‰ã€‚
</span><span class="code-line line-number" line="5"><span class="token punctuation">[</span>N<span class="token punctuation">]</span>  **ARGV**  åŒ…å«å‘½ä»¤è¡Œå‚æ•°çš„æ•°ç»„ã€‚
</span><span class="code-line line-number" line="6"><span class="token punctuation">[</span>G<span class="token punctuation">]</span>  **CONVFMT**  æ•°å­—è½¬æ¢æ ¼å¼ï¼ˆé»˜è®¤å€¼ä¸º%.6gï¼‰ã€‚
</span><span class="code-line line-number" line="7"><span class="token punctuation">[</span>P<span class="token punctuation">]</span>  **ENVIRON**  ç¯å¢ƒå˜é‡å…³è”æ•°ç»„ã€‚
</span><span class="code-line line-number" line="8"><span class="token punctuation">[</span>N<span class="token punctuation">]</span>  **ERRNO**  æœ€åä¸€ä¸ªç³»ç»Ÿé”™è¯¯çš„æè¿°ã€‚
</span><span class="code-line line-number" line="9"><span class="token punctuation">[</span>G<span class="token punctuation">]</span>  **FIELDWIDTHS**  å­—æ®µå®½åº¦åˆ—è¡¨ï¼ˆç”¨ç©ºæ ¼é”®åˆ†éš”ï¼‰ã€‚
</span><span class="code-line line-number" line="10"><span class="token punctuation">[</span>A<span class="token punctuation">]</span>  **FILENAME**  å½“å‰è¾“å…¥æ–‡ä»¶çš„åã€‚
</span><span class="code-line line-number" line="11"><span class="token punctuation">[</span>P<span class="token punctuation">]</span>  **FNR**  åŒNRï¼Œä½†ç›¸å¯¹äºå½“å‰æ–‡ä»¶ã€‚
</span><span class="code-line line-number" line="12"><span class="token punctuation">[</span>A<span class="token punctuation">]</span>  **FS**  å­—æ®µåˆ†éš”ç¬¦ï¼ˆé»˜è®¤æ˜¯ä»»ä½•ç©ºæ ¼ï¼‰ã€‚
</span><span class="code-line line-number" line="13"><span class="token punctuation">[</span>G<span class="token punctuation">]</span>  **IGNORECASE**  å¦‚æœä¸ºçœŸï¼Œåˆ™è¿›è¡Œå¿½ç•¥å¤§å°å†™çš„åŒ¹é…ã€‚
</span><span class="code-line line-number" line="14"><span class="token punctuation">[</span>A<span class="token punctuation">]</span>  **NF**  è¡¨ç¤ºå­—æ®µæ•°ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯¹åº”äºå½“å‰çš„å­—æ®µæ•°ã€‚
</span><span class="code-line line-number" line="15"><span class="token punctuation">[</span>A<span class="token punctuation">]</span>  **NR**  è¡¨ç¤ºè®°å½•æ•°ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯¹åº”äºå½“å‰çš„è¡Œå·ã€‚
</span><span class="code-line line-number" line="16"><span class="token punctuation">[</span>A<span class="token punctuation">]</span>  **OFMT**  æ•°å­—çš„è¾“å‡ºæ ¼å¼ï¼ˆé»˜è®¤å€¼æ˜¯%.6gï¼‰ã€‚
</span><span class="code-line line-number" line="17"><span class="token punctuation">[</span>A<span class="token punctuation">]</span>  **OFS**  è¾“å‡ºå­—æ®µåˆ†éš”ç¬¦ï¼ˆé»˜è®¤å€¼æ˜¯ä¸€ä¸ªç©ºæ ¼ï¼‰ã€‚
</span><span class="code-line line-number" line="18"><span class="token punctuation">[</span>A<span class="token punctuation">]</span>  **ORS**  è¾“å‡ºè®°å½•åˆ†éš”ç¬¦ï¼ˆé»˜è®¤å€¼æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ï¼‰ã€‚
</span><span class="code-line line-number" line="19"><span class="token punctuation">[</span>A<span class="token punctuation">]</span>  **RS**  è®°å½•åˆ†éš”ç¬¦ï¼ˆé»˜è®¤æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ï¼‰ã€‚
</span><span class="code-line line-number" line="20"><span class="token punctuation">[</span>N<span class="token punctuation">]</span>  **RSTART**  ç”±matchå‡½æ•°æ‰€åŒ¹é…çš„å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªä½ç½®ã€‚
</span><span class="code-line line-number" line="21"><span class="token punctuation">[</span>N<span class="token punctuation">]</span>  **RLENGTH**  ç”±matchå‡½æ•°æ‰€åŒ¹é…çš„å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚
</span><span class="code-line line-number" line="22"><span class="token punctuation">[</span>N<span class="token punctuation">]</span>  **SUBSEP**  æ•°ç»„ä¸‹æ ‡åˆ†éš”ç¬¦ï¼ˆé»˜è®¤å€¼æ˜¯34ï¼‰ã€‚
</span></code><div onclick="copied(this)" data-code=" **$n**  å½“å‰è®°å½•çš„ç¬¬nä¸ªå­—æ®µï¼Œæ¯”å¦‚nä¸º1è¡¨ç¤ºç¬¬ä¸€ä¸ªå­—æ®µï¼Œnä¸º2è¡¨ç¤ºç¬¬äºŒä¸ªå­—æ®µã€‚ 
 **$0**  è¿™ä¸ªå˜é‡åŒ…å«æ‰§è¡Œè¿‡ç¨‹ä¸­å½“å‰è¡Œçš„æ–‡æœ¬å†…å®¹ã€‚
[N]  **ARGC**  å‘½ä»¤è¡Œå‚æ•°çš„æ•°ç›®ã€‚
[G]  **ARGIND**  å‘½ä»¤è¡Œä¸­å½“å‰æ–‡ä»¶çš„ä½ç½®ï¼ˆä»0å¼€å§‹ç®—ï¼‰ã€‚
[N]  **ARGV**  åŒ…å«å‘½ä»¤è¡Œå‚æ•°çš„æ•°ç»„ã€‚
[G]  **CONVFMT**  æ•°å­—è½¬æ¢æ ¼å¼ï¼ˆé»˜è®¤å€¼ä¸º%.6gï¼‰ã€‚
[P]  **ENVIRON**  ç¯å¢ƒå˜é‡å…³è”æ•°ç»„ã€‚
[N]  **ERRNO**  æœ€åä¸€ä¸ªç³»ç»Ÿé”™è¯¯çš„æè¿°ã€‚
[G]  **FIELDWIDTHS**  å­—æ®µå®½åº¦åˆ—è¡¨ï¼ˆç”¨ç©ºæ ¼é”®åˆ†éš”ï¼‰ã€‚
[A]  **FILENAME**  å½“å‰è¾“å…¥æ–‡ä»¶çš„åã€‚
[P]  **FNR**  åŒNRï¼Œä½†ç›¸å¯¹äºå½“å‰æ–‡ä»¶ã€‚
[A]  **FS**  å­—æ®µåˆ†éš”ç¬¦ï¼ˆé»˜è®¤æ˜¯ä»»ä½•ç©ºæ ¼ï¼‰ã€‚
[G]  **IGNORECASE**  å¦‚æœä¸ºçœŸï¼Œåˆ™è¿›è¡Œå¿½ç•¥å¤§å°å†™çš„åŒ¹é…ã€‚
[A]  **NF**  è¡¨ç¤ºå­—æ®µæ•°ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯¹åº”äºå½“å‰çš„å­—æ®µæ•°ã€‚
[A]  **NR**  è¡¨ç¤ºè®°å½•æ•°ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯¹åº”äºå½“å‰çš„è¡Œå·ã€‚
[A]  **OFMT**  æ•°å­—çš„è¾“å‡ºæ ¼å¼ï¼ˆé»˜è®¤å€¼æ˜¯%.6gï¼‰ã€‚
[A]  **OFS**  è¾“å‡ºå­—æ®µåˆ†éš”ç¬¦ï¼ˆé»˜è®¤å€¼æ˜¯ä¸€ä¸ªç©ºæ ¼ï¼‰ã€‚
[A]  **ORS**  è¾“å‡ºè®°å½•åˆ†éš”ç¬¦ï¼ˆé»˜è®¤å€¼æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ï¼‰ã€‚
[A]  **RS**  è®°å½•åˆ†éš”ç¬¦ï¼ˆé»˜è®¤æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ï¼‰ã€‚
[N]  **RSTART**  ç”±matchå‡½æ•°æ‰€åŒ¹é…çš„å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªä½ç½®ã€‚
[N]  **RLENGTH**  ç”±matchå‡½æ•°æ‰€åŒ¹é…çš„å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚
[N]  **SUBSEP**  æ•°ç»„ä¸‹æ ‡åˆ†éš”ç¬¦ï¼ˆé»˜è®¤å€¼æ˜¯34ï¼‰ã€‚
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>è½¬ä¹‰åºåˆ—</p>
<pre><code class="code-highlight"><span class="code-line line-number" line="1">\\ \è‡ªèº«
</span><span class="code-line line-number" line="2">\$ è½¬ä¹‰$
</span><span class="code-line line-number" line="3">\t åˆ¶è¡¨ç¬¦
</span><span class="code-line line-number" line="4">\b é€€æ ¼ç¬¦
</span><span class="code-line line-number" line="5">\r å›è½¦ç¬¦
</span><span class="code-line line-number" line="6">\n æ¢è¡Œç¬¦
</span><span class="code-line line-number" line="7">\c å–æ¶ˆæ¢è¡Œ
</span></code><div onclick="copied(this)" data-code="\\ \è‡ªèº«
\$ è½¬ä¹‰$
\t åˆ¶è¡¨ç¬¦
\b é€€æ ¼ç¬¦
\r å›è½¦ç¬¦
\n æ¢è¡Œç¬¦
\c å–æ¶ˆæ¢è¡Œ
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>ç¤ºä¾‹</strong></p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token builtin class-name">echo</span> -e <span class="token string">"line1 f2 f3<span class="token entity" title="\n">\n</span>line2 f4 f5<span class="token entity" title="\n">\n</span>line3 f6 f7"</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print "Line No:"NR", No of fields:"NF, "$0="$0, "$1="$1, "$2="$2, "$3="$3}'</span> 
</span><span class="code-line line-number" line="2">Line No:1, No of fields:3 <span class="token variable">$0</span><span class="token operator">=</span>line1 f2 f3 <span class="token variable">$1</span><span class="token operator">=</span>line1 <span class="token variable">$2</span><span class="token operator">=</span>f2 <span class="token variable">$3</span><span class="token operator">=</span>f3
</span><span class="code-line line-number" line="3">Line No:2, No of fields:3 <span class="token variable">$0</span><span class="token operator">=</span>line2 f4 f5 <span class="token variable">$1</span><span class="token operator">=</span>line2 <span class="token variable">$2</span><span class="token operator">=</span>f4 <span class="token variable">$3</span><span class="token operator">=</span>f5
</span><span class="code-line line-number" line="4">Line No:3, No of fields:3 <span class="token variable">$0</span><span class="token operator">=</span>line3 f6 f7 <span class="token variable">$1</span><span class="token operator">=</span>line3 <span class="token variable">$2</span><span class="token operator">=</span>f6 <span class="token variable">$3</span><span class="token operator">=</span>f7
</span></code><div onclick="copied(this)" data-code="echo -e &#x22;line1 f2 f3\nline2 f4 f5\nline3 f6 f7&#x22; | awk &#x27;{print &#x22;Line No:&#x22;NR&#x22;, No of fields:&#x22;NF, &#x22;$0=&#x22;$0, &#x22;$1=&#x22;$1, &#x22;$2=&#x22;$2, &#x22;$3=&#x22;$3}&#x27; 
Line No:1, No of fields:3 $0=line1 f2 f3 $1=line1 $2=f2 $3=f3
Line No:2, No of fields:3 $0=line2 f4 f5 $1=line2 $2=f4 $3=f5
Line No:3, No of fields:3 $0=line3 f6 f7 $1=line3 $2=f6 $3=f7
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>ä½¿ç”¨<code>print $NF</code>å¯ä»¥æ‰“å°å‡ºä¸€è¡Œä¸­çš„æœ€åä¸€ä¸ªå­—æ®µï¼Œä½¿ç”¨<code>$(NF-1)</code>åˆ™æ˜¯æ‰“å°å€’æ•°ç¬¬äºŒä¸ªå­—æ®µï¼Œå…¶ä»–ä»¥æ­¤ç±»æ¨ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token builtin class-name">echo</span> -e <span class="token string">"line1 f2 f3<span class="token entity" title="\n">\n</span> line2 f4 f5"</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span>
</span><span class="code-line line-number" line="2">f3
</span><span class="code-line line-number" line="3">f5
</span></code><div onclick="copied(this)" data-code="echo -e &#x22;line1 f2 f3\n line2 f4 f5&#x22; | awk &#x27;{print $NF}&#x27;
f3
f5
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token builtin class-name">echo</span> -e <span class="token string">"line1 f2 f3<span class="token entity" title="\n">\n</span> line2 f4 f5"</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $(NF-1)}'</span>
</span><span class="code-line line-number" line="2">f2
</span><span class="code-line line-number" line="3">f4
</span><span class="code-line line-number" line="4">
</span></code><div onclick="copied(this)" data-code="echo -e &#x22;line1 f2 f3\n line2 f4 f5&#x22; | awk &#x27;{print $(NF-1)}&#x27;
f2
f4

" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>æ‰“å°æ¯ä¸€è¡Œçš„ç¬¬äºŒå’Œç¬¬ä¸‰ä¸ªå­—æ®µï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'{ print $2,$3 }'</span> filename
</span></code><div onclick="copied(this)" data-code="awk &#x27;{ print $2,$3 }&#x27; filename
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>ç»Ÿè®¡æ–‡ä»¶ä¸­çš„è¡Œæ•°ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'END{ print NR }'</span> filename
</span></code><div onclick="copied(this)" data-code="awk &#x27;END{ print NR }&#x27; filename
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>ä»¥ä¸Šå‘½ä»¤åªä½¿ç”¨äº†ENDè¯­å¥å—ï¼Œåœ¨è¯»å…¥æ¯ä¸€è¡Œçš„æ—¶ï¼Œawkä¼šå°†NRæ›´æ–°ä¸ºå¯¹åº”çš„è¡Œå·ï¼Œå½“åˆ°è¾¾æœ€åä¸€è¡ŒNRçš„å€¼å°±æ˜¯æœ€åä¸€è¡Œçš„è¡Œå·ï¼Œæ‰€ä»¥ENDè¯­å¥å—ä¸­çš„NRå°±æ˜¯æ–‡ä»¶çš„è¡Œæ•°ã€‚</p>
<p>ä¸€ä¸ªæ¯ä¸€è¡Œä¸­ç¬¬ä¸€ä¸ªå­—æ®µå€¼ç´¯åŠ çš„ä¾‹å­ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">seq</span> <span class="token number">5</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'BEGIN{ sum=0; print "æ€»å’Œï¼š" } { print $1"+"; sum+=$1 } END{ print "ç­‰äº"; print sum }'</span> 
</span><span class="code-line line-number" line="2">æ€»å’Œï¼š
</span><span class="code-line line-number" line="3"><span class="token number">1</span>+
</span><span class="code-line line-number" line="4"><span class="token number">2</span>+
</span><span class="code-line line-number" line="5"><span class="token number">3</span>+
</span><span class="code-line line-number" line="6"><span class="token number">4</span>+
</span><span class="code-line line-number" line="7"><span class="token number">5</span>+
</span><span class="code-line line-number" line="8">ç­‰äº
</span><span class="code-line line-number" line="9"><span class="token number">15</span>
</span></code><div onclick="copied(this)" data-code="seq 5 | awk &#x27;BEGIN{ sum=0; print &#x22;æ€»å’Œï¼š&#x22; } { print $1&#x22;+&#x22;; sum+=$1 } END{ print &#x22;ç­‰äº&#x22;; print sum }&#x27; 
æ€»å’Œï¼š
1+
2+
3+
4+
5+
ç­‰äº
15
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h2 id="å°†å¤–éƒ¨å˜é‡å€¼ä¼ é€’ç»™awk"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å°†å¤–éƒ¨å˜é‡å€¼ä¼ é€’ç»™awk"><span class="octicon octicon-link"></span></a>å°†å¤–éƒ¨å˜é‡å€¼ä¼ é€’ç»™awk</h2>
<p>å€ŸåŠ© <strong><code>-v</code>é€‰é¡¹</strong> ï¼Œå¯ä»¥å°†å¤–éƒ¨å€¼ï¼ˆå¹¶éæ¥è‡ªstdinï¼‰ä¼ é€’ç»™awkï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token assign-left variable">VAR</span><span class="token operator">=</span><span class="token number">10000</span>
</span><span class="code-line line-number" line="2"><span class="token builtin class-name">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> -v <span class="token assign-left variable">VARIABLE</span><span class="token operator">=</span><span class="token variable">$VAR</span> <span class="token string">'{ print VARIABLE }'</span>
</span></code><div onclick="copied(this)" data-code="VAR=10000
echo | awk -v VARIABLE=$VAR &#x27;{ print VARIABLE }&#x27;
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>å¦ä¸€ç§ä¼ é€’å¤–éƒ¨å˜é‡æ–¹æ³•ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token assign-left variable">var1</span><span class="token operator">=</span><span class="token string">"aaa"</span>
</span><span class="code-line line-number" line="2"><span class="token assign-left variable">var2</span><span class="token operator">=</span><span class="token string">"bbb"</span>
</span><span class="code-line line-number" line="3"><span class="token builtin class-name">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{ print v1,v2 }'</span> <span class="token assign-left variable">v1</span><span class="token operator">=</span><span class="token variable">$var1</span> <span class="token assign-left variable">v2</span><span class="token operator">=</span><span class="token variable">$var2</span>
</span></code><div onclick="copied(this)" data-code="var1=&#x22;aaa&#x22;
var2=&#x22;bbb&#x22;
echo | awk &#x27;{ print v1,v2 }&#x27; v1=$var1 v2=$var2
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>å½“è¾“å…¥æ¥è‡ªäºæ–‡ä»¶æ—¶ä½¿ç”¨ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'{ print v1,v2 }'</span> <span class="token assign-left variable">v1</span><span class="token operator">=</span><span class="token variable">$var1</span> <span class="token assign-left variable">v2</span><span class="token operator">=</span><span class="token variable">$var2</span> filename
</span></code><div onclick="copied(this)" data-code="awk &#x27;{ print v1,v2 }&#x27; v1=$var1 v2=$var2 filename
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>ä»¥ä¸Šæ–¹æ³•ä¸­ï¼Œå˜é‡ä¹‹é—´ç”¨ç©ºæ ¼åˆ†éš”ä½œä¸ºawkçš„å‘½ä»¤è¡Œå‚æ•°è·Ÿéšåœ¨BEGINã€{}å’ŒENDè¯­å¥å—ä¹‹åã€‚</p>
<h2 id="æŸ¥æ‰¾è¿›ç¨‹pid"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æŸ¥æ‰¾è¿›ç¨‹pid"><span class="octicon octicon-link"></span></a>æŸ¥æ‰¾è¿›ç¨‹pid</h2>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">netstat</span> -antup <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">7770</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{ print $NF NR}'</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{ print $1}'</span>
</span></code><div onclick="copied(this)" data-code="netstat -antup | grep 7770 | awk &#x27;{ print $NF NR}&#x27; | awk &#x27;{ print $1}&#x27;
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h2 id="awkè¿ç®—ä¸åˆ¤æ–­"><a class="anchor" aria-hidden="true" tabindex="-1" href="#awkè¿ç®—ä¸åˆ¤æ–­"><span class="octicon octicon-link"></span></a>awkè¿ç®—ä¸åˆ¤æ–­</h2>
<p>ä½œä¸ºä¸€ç§ç¨‹åºè®¾è®¡è¯­è¨€æ‰€åº”å…·æœ‰çš„ç‰¹ç‚¹ä¹‹ä¸€ï¼Œawkæ”¯æŒå¤šç§è¿ç®—ï¼Œè¿™äº›è¿ç®—ä¸Cè¯­è¨€æä¾›çš„åŸºæœ¬ç›¸åŒã€‚awkè¿˜æä¾›äº†ä¸€ç³»åˆ—å†…ç½®çš„è¿ç®—å‡½æ•°ï¼ˆå¦‚logã€sqrã€cosã€sinç­‰ï¼‰å’Œä¸€äº›ç”¨äºå¯¹å­—ç¬¦ä¸²è¿›è¡Œæ“ä½œï¼ˆè¿ç®—ï¼‰çš„å‡½æ•°ï¼ˆå¦‚lengthã€substrç­‰ç­‰ï¼‰ã€‚è¿™äº›å‡½æ•°çš„å¼•ç”¨å¤§å¤§çš„æé«˜äº†awkçš„è¿ç®—åŠŸèƒ½ã€‚ä½œä¸ºå¯¹æ¡ä»¶è½¬ç§»æŒ‡ä»¤çš„ä¸€éƒ¨åˆ†ï¼Œå…³ç³»åˆ¤æ–­æ˜¯æ¯ç§ç¨‹åºè®¾è®¡è¯­è¨€éƒ½å…·å¤‡çš„åŠŸèƒ½ï¼Œawkä¹Ÿä¸ä¾‹å¤–ï¼Œawkä¸­å…è®¸è¿›è¡Œå¤šç§æµ‹è¯•ï¼Œä½œä¸ºæ ·å¼åŒ¹é…ï¼Œè¿˜æä¾›äº†æ¨¡å¼åŒ¹é…è¡¨è¾¾å¼~ï¼ˆåŒ¹é…ï¼‰å’Œ!~ï¼ˆä¸åŒ¹é…ï¼‰ã€‚ä½œä¸ºå¯¹æµ‹è¯•çš„ä¸€ç§æ‰©å……ï¼Œawkä¹Ÿæ”¯æŒç”¨é€»è¾‘è¿ç®—ç¬¦ã€‚</p>
<h3 id="ç®—æœ¯è¿ç®—ç¬¦"><a class="anchor" aria-hidden="true" tabindex="-1" href="#ç®—æœ¯è¿ç®—ç¬¦"><span class="octicon octicon-link"></span></a>ç®—æœ¯è¿ç®—ç¬¦</h3>
<table>
  <thead>
    <tr>
      <th>è¿ç®—ç¬¦</th>
      <th>æè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>+ -</td>
      <td>åŠ ï¼Œå‡</td>
    </tr>
    <tr>
      <td>* / &#x26;</td>
      <td>ä¹˜ï¼Œé™¤ä¸æ±‚ä½™</td>
    </tr>
    <tr>
      <td>+ - !</td>
      <td>ä¸€å…ƒåŠ ï¼Œå‡å’Œé€»è¾‘é</td>
    </tr>
    <tr>
      <td>^ ***</td>
      <td>æ±‚å¹‚</td>
    </tr>
    <tr>
      <td>++ --</td>
      <td>å¢åŠ æˆ–å‡å°‘ï¼Œä½œä¸ºå‰ç¼€æˆ–åç¼€</td>
    </tr>
  </tbody>
</table>
<p>ä¾‹ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{a="b";print a++,++a;}'</span>
</span><span class="code-line line-number" line="2"><span class="token number">0</span> <span class="token number">2</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{a=&#x22;b&#x22;;print a++,++a;}&#x27;
0 2
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>æ³¨æ„ï¼šæ‰€æœ‰ç”¨ä½œç®—æœ¯è¿ç®—ç¬¦è¿›è¡Œæ“ä½œï¼Œæ“ä½œæ•°è‡ªåŠ¨è½¬ä¸ºæ•°å€¼ï¼Œæ‰€æœ‰éæ•°å€¼éƒ½å˜ä¸º0</p>
<h3 id="èµ‹å€¼è¿ç®—ç¬¦"><a class="anchor" aria-hidden="true" tabindex="-1" href="#èµ‹å€¼è¿ç®—ç¬¦"><span class="octicon octicon-link"></span></a>èµ‹å€¼è¿ç®—ç¬¦</h3>
<table>
  <thead>
    <tr>
      <th>è¿ç®—ç¬¦</th>
      <th>æè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>= += -= *= /= %= ^= **=</td>
      <td>èµ‹å€¼è¯­å¥</td>
    </tr>
  </tbody>
</table>
<p>ä¾‹ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token assign-left variable">a</span><span class="token operator">+=</span><span class="token number">5</span><span class="token punctuation">;</span> ç­‰ä»·äºï¼ša<span class="token operator">=</span>a+5<span class="token punctuation">;</span> å…¶å®ƒåŒç±»
</span></code><div onclick="copied(this)" data-code="a+=5; ç­‰ä»·äºï¼ša=a+5; å…¶å®ƒåŒç±»
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="é€»è¾‘è¿ç®—ç¬¦"><a class="anchor" aria-hidden="true" tabindex="-1" href="#é€»è¾‘è¿ç®—ç¬¦"><span class="octicon octicon-link"></span></a>é€»è¾‘è¿ç®—ç¬¦</h3>
<table>
  <thead>
    <tr>
      <th>è¿ç®—ç¬¦</th>
      <th>æè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>||</code></td>
      <td>é€»è¾‘æˆ–</td>
    </tr>
    <tr>
      <td>&#x26;&#x26;</td>
      <td>é€»è¾‘ä¸</td>
    </tr>
  </tbody>
</table>
<p>ä¾‹ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{a=1;b=2;print (a>5 &#x26;&#x26; b&#x3C;=2),(a>5 || b&#x3C;=2);}'</span>
</span><span class="code-line line-number" line="2"><span class="token number">0</span> <span class="token number">1</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{a=1;b=2;print (a>5 &#x26;&#x26; b<=2),(a>5 || b<=2);}&#x27;
0 1
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="æ­£åˆ™è¿ç®—ç¬¦"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æ­£åˆ™è¿ç®—ç¬¦"><span class="octicon octicon-link"></span></a>æ­£åˆ™è¿ç®—ç¬¦</h3>
<table>
  <thead>
    <tr>
      <th>è¿ç®—ç¬¦</th>
      <th>æè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>~ !~</td>
      <td>åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼å’Œä¸åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼</td>
    </tr>
  </tbody>
</table>
<pre><code class="code-highlight"><span class="code-line line-number" line="1">^ è¡Œé¦–
</span><span class="code-line line-number" line="2">$ è¡Œå°¾
</span><span class="code-line line-number" line="3">. é™¤äº†æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å•ä¸ªå­—ç¬¦
</span><span class="code-line line-number" line="4">* å‰å¯¼å­—ç¬¦çš„é›¶ä¸ªæˆ–å¤šä¸ª
</span><span class="code-line line-number" line="5">.* æ‰€æœ‰å­—ç¬¦
</span><span class="code-line line-number" line="6">[] å­—ç¬¦ç»„å†…çš„ä»»ä¸€å­—ç¬¦
</span><span class="code-line line-number" line="7">[^]å¯¹å­—ç¬¦ç»„å†…çš„æ¯ä¸ªå­—ç¬¦å–å(ä¸åŒ¹é…å­—ç¬¦ç»„å†…çš„æ¯ä¸ªå­—ç¬¦)
</span><span class="code-line line-number" line="8">^[^] éå­—ç¬¦ç»„å†…çš„å­—ç¬¦å¼€å¤´çš„è¡Œ
</span><span class="code-line line-number" line="9">[a-z] å°å†™å­—æ¯
</span><span class="code-line line-number" line="10">[A-Z] å¤§å†™å­—æ¯
</span><span class="code-line line-number" line="11">[a-Z] å°å†™å’Œå¤§å†™å­—æ¯
</span><span class="code-line line-number" line="12">[0-9] æ•°å­—
</span><span class="code-line line-number" line="13">\&#x3C; å•è¯å¤´å•è¯ä¸€èˆ¬ä»¥ç©ºæ ¼æˆ–ç‰¹æ®Šå­—ç¬¦åšåˆ†éš”,è¿ç»­çš„å­—ç¬¦ä¸²è¢«å½“åšå•è¯
</span><span class="code-line line-number" line="14">\> å•è¯å°¾
</span></code><div onclick="copied(this)" data-code="^ è¡Œé¦–
$ è¡Œå°¾
. é™¤äº†æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å•ä¸ªå­—ç¬¦
* å‰å¯¼å­—ç¬¦çš„é›¶ä¸ªæˆ–å¤šä¸ª
.* æ‰€æœ‰å­—ç¬¦
[] å­—ç¬¦ç»„å†…çš„ä»»ä¸€å­—ç¬¦
[^]å¯¹å­—ç¬¦ç»„å†…çš„æ¯ä¸ªå­—ç¬¦å–å(ä¸åŒ¹é…å­—ç¬¦ç»„å†…çš„æ¯ä¸ªå­—ç¬¦)
^[^] éå­—ç¬¦ç»„å†…çš„å­—ç¬¦å¼€å¤´çš„è¡Œ
[a-z] å°å†™å­—æ¯
[A-Z] å¤§å†™å­—æ¯
[a-Z] å°å†™å’Œå¤§å†™å­—æ¯
[0-9] æ•°å­—
\< å•è¯å¤´å•è¯ä¸€èˆ¬ä»¥ç©ºæ ¼æˆ–ç‰¹æ®Šå­—ç¬¦åšåˆ†éš”,è¿ç»­çš„å­—ç¬¦ä¸²è¢«å½“åšå•è¯
\> å•è¯å°¾
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<blockquote>
  <p>æ­£åˆ™éœ€è¦ç”¨ /æ­£åˆ™/ åŒ…å›´ä½</p>
</blockquote>
<p>ä¾‹ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{a="100testa";if(a ~ /^100*/){print "ok";}}'</span>
</span><span class="code-line line-number" line="2">ok
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{a=&#x22;100testa&#x22;;if(a ~ /^100*/){print &#x22;ok&#x22;;}}&#x27;
ok
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="å…³ç³»è¿ç®—ç¬¦"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å…³ç³»è¿ç®—ç¬¦"><span class="octicon octicon-link"></span></a>å…³ç³»è¿ç®—ç¬¦</h3>
<table>
  <thead>
    <tr>
      <th>è¿ç®—ç¬¦</th>
      <th>æè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>&#x3C; &#x3C;= > >= != ==</td>
      <td>å…³ç³»è¿ç®—ç¬¦</td>
    </tr>
  </tbody>
</table>
<p>ä¾‹ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{a=11;if(a >= 9){print "ok";}}'</span>
</span><span class="code-line line-number" line="2">ok
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{a=11;if(a >= 9){print &#x22;ok&#x22;;}}&#x27;
ok
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>æ³¨æ„ï¼š> &#x3C; å¯ä»¥ä½œä¸ºå­—ç¬¦ä¸²æ¯”è¾ƒï¼Œä¹Ÿå¯ä»¥ç”¨ä½œæ•°å€¼æ¯”è¾ƒï¼Œå…³é”®çœ‹æ“ä½œæ•°å¦‚æœæ˜¯å­—ç¬¦ä¸²å°±ä¼šè½¬æ¢ä¸ºå­—ç¬¦ä¸²æ¯”è¾ƒã€‚ä¸¤ä¸ªéƒ½ä¸ºæ•°å­—æ‰è½¬ä¸ºæ•°å€¼æ¯”è¾ƒã€‚å­—ç¬¦ä¸²æ¯”è¾ƒï¼šæŒ‰ç…§ASCIIç é¡ºåºæ¯”è¾ƒã€‚</p>
<h3 id="å…¶å®ƒè¿ç®—ç¬¦"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å…¶å®ƒè¿ç®—ç¬¦"><span class="octicon octicon-link"></span></a>å…¶å®ƒè¿ç®—ç¬¦</h3>
<table>
  <thead>
    <tr>
      <th>è¿ç®—ç¬¦</th>
      <th>æè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>$</td>
      <td>å­—æ®µå¼•ç”¨</td>
    </tr>
    <tr>
      <td>ç©ºæ ¼</td>
      <td>å­—ç¬¦ä¸²è¿æ¥ç¬¦</td>
    </tr>
    <tr>
      <td>?:</td>
      <td>Cæ¡ä»¶è¡¨è¾¾å¼</td>
    </tr>
    <tr>
      <td>in</td>
      <td>æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æŸé”®å€¼</td>
    </tr>
  </tbody>
</table>
<p>ä¾‹ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{a="b";print a=="b"?"ok":"err";}'</span>
</span><span class="code-line line-number" line="2">ok
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{a=&#x22;b&#x22;;print a==&#x22;b&#x22;?&#x22;ok&#x22;:&#x22;err&#x22;;}&#x27;
ok
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{a="b";arr[0]="b";arr[1]="c";print (a in arr);}'</span>
</span><span class="code-line line-number" line="2"><span class="token number">0</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{a=&#x22;b&#x22;;arr[0]=&#x22;b&#x22;;arr[1]=&#x22;c&#x22;;print (a in arr);}&#x27;
0
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<pre><code class="code-highlight"><span class="code-line line-number" line="1">awk 'BEGIN{a="b";arr[0]="b";arr["b"]="c";print (a in arr);}'
</span><span class="code-line line-number" line="2">1
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{a=&#x22;b&#x22;;arr[0]=&#x22;b&#x22;;arr[&#x22;b&#x22;]=&#x22;c&#x22;;print (a in arr);}&#x27;
1
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="è¿ç®—çº§ä¼˜å…ˆçº§è¡¨"><a class="anchor" aria-hidden="true" tabindex="-1" href="#è¿ç®—çº§ä¼˜å…ˆçº§è¡¨"><span class="octicon octicon-link"></span></a>è¿ç®—çº§ä¼˜å…ˆçº§è¡¨</h3>
<p>!çº§åˆ«è¶Šé«˜è¶Šä¼˜å…ˆ<br>çº§åˆ«è¶Šé«˜è¶Šä¼˜å…ˆ</p>
<h2 id="awké«˜çº§è¾“å…¥è¾“å‡º"><a class="anchor" aria-hidden="true" tabindex="-1" href="#awké«˜çº§è¾“å…¥è¾“å‡º"><span class="octicon octicon-link"></span></a>awké«˜çº§è¾“å…¥è¾“å‡º</h2>
<h3 id="è¯»å–ä¸‹ä¸€æ¡è®°å½•"><a class="anchor" aria-hidden="true" tabindex="-1" href="#è¯»å–ä¸‹ä¸€æ¡è®°å½•"><span class="octicon octicon-link"></span></a>è¯»å–ä¸‹ä¸€æ¡è®°å½•</h3>
<p>awkä¸­<code>next</code>è¯­å¥ä½¿ç”¨ï¼šåœ¨å¾ªç¯é€è¡ŒåŒ¹é…ï¼Œå¦‚æœé‡åˆ°nextï¼Œå°±ä¼šè·³è¿‡å½“å‰è¡Œï¼Œç›´æ¥å¿½ç•¥ä¸‹é¢è¯­å¥ã€‚è€Œè¿›è¡Œä¸‹ä¸€è¡ŒåŒ¹é…ã€‚nextè¯­å¥ä¸€èˆ¬ç”¨äºå¤šè¡Œåˆå¹¶ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">cat</span> text.txt
</span><span class="code-line line-number" line="2">a
</span><span class="code-line line-number" line="3">b
</span><span class="code-line line-number" line="4">c
</span><span class="code-line line-number" line="5">d
</span><span class="code-line line-number" line="6">e
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token function">awk</span> <span class="token string">'NR%2==1{next}{print NR,$0;}'</span> text.txt
</span><span class="code-line line-number" line="9"><span class="token number">2</span> b
</span><span class="code-line line-number" line="10"><span class="token number">4</span> d
</span></code><div onclick="copied(this)" data-code="cat text.txt
a
b
c
d
e

awk &#x27;NR%2==1{next}{print NR,$0;}&#x27; text.txt
2 b
4 d
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>å½“è®°å½•è¡Œå·é™¤ä»¥2ä½™1ï¼Œå°±è·³è¿‡å½“å‰è¡Œã€‚ä¸‹é¢çš„<code>print NR,$0</code>ä¹Ÿä¸ä¼šæ‰§è¡Œã€‚ä¸‹ä¸€è¡Œå¼€å§‹ï¼Œç¨‹åºæœ‰å¼€å§‹åˆ¤æ–­<code>NR%2</code>å€¼ã€‚è¿™ä¸ªæ—¶å€™è®°å½•è¡Œå·æ˜¯<code>ï¼š2</code> ï¼Œå°±ä¼šæ‰§è¡Œä¸‹é¢è¯­å¥å—ï¼š<code>'print NR,$0'</code></p>
<p>åˆ†æå‘ç°éœ€è¦å°†åŒ…å«æœ‰â€œwebâ€è¡Œè¿›è¡Œè·³è¿‡ï¼Œç„¶åéœ€è¦å°†å†…å®¹ä¸ä¸‹é¢è¡Œåˆå¹¶ä¸ºä¸€è¡Œï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">cat</span> text.txt
</span><span class="code-line line-number" line="2">web01<span class="token punctuation">[</span><span class="token number">192.168</span>.2.100<span class="token punctuation">]</span>
</span><span class="code-line line-number" line="3">httpd            ok
</span><span class="code-line line-number" line="4">tomcat               ok
</span><span class="code-line line-number" line="5"><span class="token function">sendmail</span>               ok
</span><span class="code-line line-number" line="6">web02<span class="token punctuation">[</span><span class="token number">192.168</span>.2.101<span class="token punctuation">]</span>
</span><span class="code-line line-number" line="7">httpd            ok
</span><span class="code-line line-number" line="8">postfix               ok
</span><span class="code-line line-number" line="9">web03<span class="token punctuation">[</span><span class="token number">192.168</span>.2.102<span class="token punctuation">]</span>
</span><span class="code-line line-number" line="10">mysqld            ok
</span><span class="code-line line-number" line="11">httpd               ok
</span><span class="code-line line-number" line="12"><span class="token number">0</span>
</span><span class="code-line line-number" line="13"><span class="token function">awk</span> <span class="token string">'/^web/{T=$0;next;}{print T":"t,$0;}'</span> text.txt
</span><span class="code-line line-number" line="14">web01<span class="token punctuation">[</span><span class="token number">192.168</span>.2.100<span class="token punctuation">]</span>:   httpd            ok
</span><span class="code-line line-number" line="15">web01<span class="token punctuation">[</span><span class="token number">192.168</span>.2.100<span class="token punctuation">]</span>:   tomcat               ok
</span><span class="code-line line-number" line="16">web01<span class="token punctuation">[</span><span class="token number">192.168</span>.2.100<span class="token punctuation">]</span>:   <span class="token function">sendmail</span>               ok
</span><span class="code-line line-number" line="17">web02<span class="token punctuation">[</span><span class="token number">192.168</span>.2.101<span class="token punctuation">]</span>:   httpd            ok
</span><span class="code-line line-number" line="18">web02<span class="token punctuation">[</span><span class="token number">192.168</span>.2.101<span class="token punctuation">]</span>:   postfix               ok
</span><span class="code-line line-number" line="19">web03<span class="token punctuation">[</span><span class="token number">192.168</span>.2.102<span class="token punctuation">]</span>:   mysqld            ok
</span><span class="code-line line-number" line="20">web03<span class="token punctuation">[</span><span class="token number">192.168</span>.2.102<span class="token punctuation">]</span>:   httpd               ok
</span></code><div onclick="copied(this)" data-code="cat text.txt
web01[192.168.2.100]
httpd            ok
tomcat               ok
sendmail               ok
web02[192.168.2.101]
httpd            ok
postfix               ok
web03[192.168.2.102]
mysqld            ok
httpd               ok
0
awk &#x27;/^web/{T=$0;next;}{print T&#x22;:&#x22;t,$0;}&#x27; text.txt
web01[192.168.2.100]:   httpd            ok
web01[192.168.2.100]:   tomcat               ok
web01[192.168.2.100]:   sendmail               ok
web02[192.168.2.101]:   httpd            ok
web02[192.168.2.101]:   postfix               ok
web03[192.168.2.102]:   mysqld            ok
web03[192.168.2.102]:   httpd               ok
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="ç®€å•åœ°è¯»å–ä¸€æ¡è®°å½•"><a class="anchor" aria-hidden="true" tabindex="-1" href="#ç®€å•åœ°è¯»å–ä¸€æ¡è®°å½•"><span class="octicon octicon-link"></span></a>ç®€å•åœ°è¯»å–ä¸€æ¡è®°å½•</h3>
<p><code>awk getline</code>ç”¨æ³•ï¼šè¾“å‡ºé‡å®šå‘éœ€ç”¨åˆ°<code>getlineå‡½æ•°</code>ã€‚getlineä»æ ‡å‡†è¾“å…¥ã€ç®¡é“æˆ–è€…å½“å‰æ­£åœ¨å¤„ç†çš„æ–‡ä»¶ä¹‹å¤–çš„å…¶ä»–è¾“å…¥æ–‡ä»¶è·å¾—è¾“å…¥ã€‚å®ƒè´Ÿè´£ä»è¾“å…¥è·å¾—ä¸‹ä¸€è¡Œçš„å†…å®¹ï¼Œå¹¶ç»™NF,NRå’ŒFNRç­‰å†…å»ºå˜é‡èµ‹å€¼ã€‚å¦‚æœå¾—åˆ°ä¸€æ¡è®°å½•ï¼Œgetlineå‡½æ•°è¿”å›1ï¼Œå¦‚æœåˆ°è¾¾æ–‡ä»¶çš„æœ«å°¾å°±è¿”å›0ï¼Œå¦‚æœå‡ºç°é”™è¯¯ï¼Œä¾‹å¦‚æ‰“å¼€æ–‡ä»¶å¤±è´¥ï¼Œå°±è¿”å›-1ã€‚</p>
<p>getlineè¯­æ³•ï¼šgetline varï¼Œå˜é‡varåŒ…å«äº†ç‰¹å®šè¡Œçš„å†…å®¹ã€‚</p>
<p>awk getlineä»æ•´ä½“ä¸Šæ¥è¯´ï¼Œç”¨æ³•è¯´æ˜ï¼š</p>
<ul>
  <li><strong>å½“å…¶å·¦å³æ— é‡å®šå‘ç¬¦<code>|</code>æˆ–<code>&#x3C;</code>æ—¶ï¼š</strong> getlineä½œç”¨äºå½“å‰æ–‡ä»¶ï¼Œè¯»å…¥å½“å‰æ–‡ä»¶çš„ç¬¬ä¸€è¡Œç»™å…¶åè·Ÿçš„å˜é‡<code>var</code>æˆ–<code>$0</code>ï¼ˆæ— å˜é‡ï¼‰ï¼Œåº”è¯¥æ³¨æ„åˆ°ï¼Œç”±äºawkåœ¨å¤„ç†getlineä¹‹å‰å·²ç»è¯»å…¥äº†ä¸€è¡Œï¼Œæ‰€ä»¥getlineå¾—åˆ°çš„è¿”å›ç»“æœæ˜¯éš”è¡Œçš„ã€‚</li>
  <li><strong>å½“å…¶å·¦å³æœ‰é‡å®šå‘ç¬¦<code>|</code>æˆ–<code>&#x3C;</code>æ—¶ï¼š</strong> getlineåˆ™ä½œç”¨äºå®šå‘è¾“å…¥æ–‡ä»¶ï¼Œç”±äºè¯¥æ–‡ä»¶æ˜¯åˆšæ‰“å¼€ï¼Œå¹¶æ²¡æœ‰è¢«awkè¯»å…¥ä¸€è¡Œï¼Œåªæ˜¯getlineè¯»å…¥ï¼Œé‚£ä¹ˆgetlineè¿”å›çš„æ˜¯è¯¥æ–‡ä»¶çš„ç¬¬ä¸€è¡Œï¼Œè€Œä¸æ˜¯éš”è¡Œã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<p>æ‰§è¡Œlinuxçš„<code>date</code>å‘½ä»¤ï¼Œå¹¶é€šè¿‡ç®¡é“è¾“å‡ºç»™<code>getline</code>ï¼Œç„¶åå†æŠŠè¾“å‡ºèµ‹å€¼ç»™è‡ªå®šä¹‰å˜é‡outï¼Œå¹¶æ‰“å°å®ƒï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{ "date" | getline out; print out }'</span> <span class="token builtin class-name">test</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{ &#x22;date&#x22; | getline out; print out }&#x27; test
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>æ‰§è¡Œshellçš„dateå‘½ä»¤ï¼Œå¹¶é€šè¿‡ç®¡é“è¾“å‡ºç»™getlineï¼Œç„¶ågetlineä»ç®¡é“ä¸­è¯»å–å¹¶å°†è¾“å…¥èµ‹å€¼ç»™outï¼Œsplitå‡½æ•°æŠŠå˜é‡outè½¬åŒ–æˆæ•°ç»„monï¼Œç„¶åæ‰“å°æ•°ç»„monçš„ç¬¬äºŒä¸ªå…ƒç´ ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{ "date" | getline out; split(out,mon); print mon[2] }'</span> <span class="token builtin class-name">test</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{ &#x22;date&#x22; | getline out; split(out,mon); print mon[2] }&#x27; test
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>å‘½ä»¤lsçš„è¾“å‡ºä¼ é€’ç»™gelineä½œä¸ºè¾“å…¥ï¼Œå¾ªç¯ä½¿getlineä»lsçš„è¾“å‡ºä¸­è¯»å–ä¸€è¡Œï¼Œå¹¶æŠŠå®ƒæ‰“å°åˆ°å±å¹•ã€‚è¿™é‡Œæ²¡æœ‰è¾“å…¥æ–‡ä»¶ï¼Œå› ä¸ºBEGINå—åœ¨æ‰“å¼€è¾“å…¥æ–‡ä»¶å‰æ‰§è¡Œï¼Œæ‰€ä»¥å¯ä»¥å¿½ç•¥è¾“å…¥æ–‡ä»¶ã€‚</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{ while( "ls" | getline) print }'</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{ while( &#x22;ls&#x22; | getline) print }&#x27;
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="å…³é—­æ–‡ä»¶"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å…³é—­æ–‡ä»¶"><span class="octicon octicon-link"></span></a>å…³é—­æ–‡ä»¶</h3>
<p>awkä¸­å…è®¸åœ¨ç¨‹åºä¸­å…³é—­ä¸€ä¸ªè¾“å…¥æˆ–è¾“å‡ºæ–‡ä»¶ï¼Œæ–¹æ³•æ˜¯ä½¿ç”¨awkçš„closeè¯­å¥ã€‚</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">close<span class="token punctuation">(</span><span class="token string">"filename"</span><span class="token punctuation">)</span>
</span></code><div onclick="copied(this)" data-code="close(&#x22;filename&#x22;)
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>filenameå¯ä»¥æ˜¯getlineæ‰“å¼€çš„æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ˜¯stdinï¼ŒåŒ…å«æ–‡ä»¶åçš„å˜é‡æˆ–è€…getlineä½¿ç”¨çš„ç¡®åˆ‡å‘½ä»¤ã€‚æˆ–ä¸€ä¸ªè¾“å‡ºæ–‡ä»¶ï¼Œå¯ä»¥æ˜¯stdoutï¼ŒåŒ…å«æ–‡ä»¶åçš„å˜é‡æˆ–ä½¿ç”¨ç®¡é“çš„ç¡®åˆ‡å‘½ä»¤ã€‚</p>
<h3 id="è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶"><a class="anchor" aria-hidden="true" tabindex="-1" href="#è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶"><span class="octicon octicon-link"></span></a>è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶</h3>
<p>awkä¸­å…è®¸ç”¨å¦‚ä¸‹æ–¹å¼å°†ç»“æœè¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token builtin class-name">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{printf("hello word!n") > "datafile"}'</span>
</span><span class="code-line line-number" line="2"><span class="token comment"># æˆ–</span>
</span><span class="code-line line-number" line="3"><span class="token builtin class-name">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{printf("hello word!n") >> "datafile"}'</span>
</span></code><div onclick="copied(this)" data-code="echo | awk &#x27;{printf(&#x22;hello word!n&#x22;) > &#x22;datafile&#x22;}&#x27;
# æˆ–
echo | awk &#x27;{printf(&#x22;hello word!n&#x22;) >> &#x22;datafile&#x22;}&#x27;
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h2 id="è®¾ç½®å­—æ®µå®šç•Œç¬¦"><a class="anchor" aria-hidden="true" tabindex="-1" href="#è®¾ç½®å­—æ®µå®šç•Œç¬¦"><span class="octicon octicon-link"></span></a>è®¾ç½®å­—æ®µå®šç•Œç¬¦</h2>
<p>é»˜è®¤çš„å­—æ®µå®šç•Œç¬¦æ˜¯ç©ºæ ¼ï¼Œå¯ä»¥ä½¿ç”¨<code>-F "å®šç•Œç¬¦"</code> æ˜ç¡®æŒ‡å®šä¸€ä¸ªå®šç•Œç¬¦ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> -F: <span class="token string">'{ print $NF }'</span> /etc/passwd
</span><span class="code-line line-number" line="2"><span class="token comment"># æˆ–</span>
</span><span class="code-line line-number" line="3"><span class="token function">awk</span> <span class="token string">'BEGIN{ FS=":" } { print $NF }'</span> /etc/passwd
</span></code><div onclick="copied(this)" data-code="awk -F: &#x27;{ print $NF }&#x27; /etc/passwd
# æˆ–
awk &#x27;BEGIN{ FS=&#x22;:&#x22; } { print $NF }&#x27; /etc/passwd
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>åœ¨<code>BEGINè¯­å¥å—</code>ä¸­åˆ™å¯ä»¥ç”¨<code>OFS=â€œå®šç•Œç¬¦â€</code>è®¾ç½®è¾“å‡ºå­—æ®µçš„å®šç•Œç¬¦ã€‚</p>
<h2 id="æµç¨‹æ§åˆ¶è¯­å¥"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æµç¨‹æ§åˆ¶è¯­å¥"><span class="octicon octicon-link"></span></a>æµç¨‹æ§åˆ¶è¯­å¥</h2>
<p>åœ¨linux awkçš„whileã€do-whileå’Œforè¯­å¥ä¸­å…è®¸ä½¿ç”¨break,continueè¯­å¥æ¥æ§åˆ¶æµç¨‹èµ°å‘ï¼Œä¹Ÿå…è®¸ä½¿ç”¨exitè¿™æ ·çš„è¯­å¥æ¥é€€å‡ºã€‚breakä¸­æ–­å½“å‰æ­£åœ¨æ‰§è¡Œçš„å¾ªç¯å¹¶è·³åˆ°å¾ªç¯å¤–æ‰§è¡Œä¸‹ä¸€æ¡è¯­å¥ã€‚if æ˜¯æµç¨‹é€‰æ‹©ç”¨æ³•ã€‚awkä¸­ï¼Œæµç¨‹æ§åˆ¶è¯­å¥ï¼Œè¯­æ³•ç»“æ„ï¼Œä¸cè¯­è¨€ç±»å‹ã€‚æœ‰äº†è¿™äº›è¯­å¥ï¼Œå…¶å®å¾ˆå¤šshellç¨‹åºéƒ½å¯ä»¥äº¤ç»™awkï¼Œè€Œä¸”æ€§èƒ½æ˜¯éå¸¸å¿«çš„ã€‚ä¸‹é¢æ˜¯å„ä¸ªè¯­å¥ç”¨æ³•ã€‚</p>
<h3 id="æ¡ä»¶åˆ¤æ–­è¯­å¥"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æ¡ä»¶åˆ¤æ–­è¯­å¥"><span class="octicon octicon-link"></span></a>æ¡ä»¶åˆ¤æ–­è¯­å¥</h3>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">if<span class="token punctuation">(</span>è¡¨è¾¾å¼<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="2">  è¯­å¥1
</span><span class="code-line line-number" line="3"><span class="token keyword">else</span>
</span><span class="code-line line-number" line="4">  è¯­å¥2
</span></code><div onclick="copied(this)" data-code="if(è¡¨è¾¾å¼)
  è¯­å¥1
else
  è¯­å¥2
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>æ ¼å¼ä¸­è¯­å¥1å¯ä»¥æ˜¯å¤šä¸ªè¯­å¥ï¼Œä¸ºäº†æ–¹ä¾¿åˆ¤æ–­å’Œé˜…è¯»ï¼Œæœ€å¥½å°†å¤šä¸ªè¯­å¥ç”¨{}æ‹¬èµ·æ¥ã€‚awkåˆ†æç»“æ„å…è®¸åµŒå¥—ï¼Œå…¶æ ¼å¼ä¸ºï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">if<span class="token punctuation">(</span>è¡¨è¾¾å¼<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="2">  <span class="token punctuation">{</span>è¯­å¥1<span class="token punctuation">}</span>
</span><span class="code-line line-number" line="3"><span class="token keyword">else</span> if<span class="token punctuation">(</span>è¡¨è¾¾å¼<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="4">  <span class="token punctuation">{</span>è¯­å¥2<span class="token punctuation">}</span>
</span><span class="code-line line-number" line="5"><span class="token keyword">else</span>
</span><span class="code-line line-number" line="6">  <span class="token punctuation">{</span>è¯­å¥3<span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="if(è¡¨è¾¾å¼)
  {è¯­å¥1}
else if(è¡¨è¾¾å¼)
  {è¯­å¥2}
else
  {è¯­å¥3}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>ç¤ºä¾‹ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{
</span></span><span class="code-line line-number" line="2"><span class="token string">test=100;
</span></span><span class="code-line line-number" line="3"><span class="token string">if(test>90){
</span></span><span class="code-line line-number" line="4"><span class="token string">  print "very good";
</span></span><span class="code-line line-number" line="5"><span class="token string">  }
</span></span><span class="code-line line-number" line="6"><span class="token string">  else if(test>60){
</span></span><span class="code-line line-number" line="7"><span class="token string">    print "good";
</span></span><span class="code-line line-number" line="8"><span class="token string">  }
</span></span><span class="code-line line-number" line="9"><span class="token string">  else{
</span></span><span class="code-line line-number" line="10"><span class="token string">    print "no pass";
</span></span><span class="code-line line-number" line="11"><span class="token string">  }
</span></span><span class="code-line line-number" line="12"><span class="token string">}'</span>
</span><span class="code-line line-number" line="13">
</span><span class="code-line line-number" line="14">very good
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{
test=100;
if(test>90){
  print &#x22;very good&#x22;;
  }
  else if(test>60){
    print &#x22;good&#x22;;
  }
  else{
    print &#x22;no pass&#x22;;
  }
}&#x27;

very good
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>æ¯æ¡å‘½ä»¤è¯­å¥åé¢å¯ä»¥ç”¨<code>;</code> <strong>åˆ†å·</strong> ç»“å°¾ã€‚</p>
<h3 id="å¾ªç¯è¯­å¥"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å¾ªç¯è¯­å¥"><span class="octicon octicon-link"></span></a>å¾ªç¯è¯­å¥</h3>
<h3 id="-whileè¯­å¥"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-whileè¯­å¥"><span class="octicon octicon-link"></span></a># whileè¯­å¥</h3>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">while<span class="token punctuation">(</span>è¡¨è¾¾å¼<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="2">  <span class="token punctuation">{</span>è¯­å¥<span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="while(è¡¨è¾¾å¼)
  {è¯­å¥}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>ç¤ºä¾‹ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{
</span></span><span class="code-line line-number" line="2"><span class="token string">test=100;
</span></span><span class="code-line line-number" line="3"><span class="token string">total=0;
</span></span><span class="code-line line-number" line="4"><span class="token string">while(i&#x3C;=test){
</span></span><span class="code-line line-number" line="5"><span class="token string">  total+=i;
</span></span><span class="code-line line-number" line="6"><span class="token string">  i++;
</span></span><span class="code-line line-number" line="7"><span class="token string">}
</span></span><span class="code-line line-number" line="8"><span class="token string">print total;
</span></span><span class="code-line line-number" line="9"><span class="token string">}'</span>
</span><span class="code-line line-number" line="10"><span class="token number">5050</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{
test=100;
total=0;
while(i<=test){
  total+=i;
  i++;
}
print total;
}&#x27;
5050
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="-forå¾ªç¯"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-forå¾ªç¯"><span class="octicon octicon-link"></span></a># forå¾ªç¯</h3>
<p>forå¾ªç¯æœ‰ä¸¤ç§æ ¼å¼ï¼š</p>
<p>æ ¼å¼1ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">for<span class="token punctuation">(</span>å˜é‡ <span class="token keyword">in</span> æ•°ç»„<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="2">  <span class="token punctuation">{</span>è¯­å¥<span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="for(å˜é‡ in æ•°ç»„)
  {è¯­å¥}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>ç¤ºä¾‹ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{
</span></span><span class="code-line line-number" line="2"><span class="token string">for(k in ENVIRON){
</span></span><span class="code-line line-number" line="3"><span class="token string">  print k"="ENVIRON[k];
</span></span><span class="code-line line-number" line="4"><span class="token string">}
</span></span><span class="code-line line-number" line="5"><span class="token string">
</span></span><span class="code-line line-number" line="6"><span class="token string">}'</span>
</span><span class="code-line line-number" line="7"><span class="token assign-left variable"><span class="token environment constant">TERM</span></span><span class="token operator">=</span>linux
</span><span class="code-line line-number" line="8"><span class="token assign-left variable">G_BROKEN_FILENAMES</span><span class="token operator">=</span><span class="token number">1</span>
</span><span class="code-line line-number" line="9"><span class="token assign-left variable"><span class="token environment constant">SHLVL</span></span><span class="token operator">=</span><span class="token number">1</span>
</span><span class="code-line line-number" line="10"><span class="token assign-left variable">pwd</span><span class="token operator">=</span>/root/text
</span><span class="code-line line-number" line="11"><span class="token punctuation">..</span>.
</span><span class="code-line line-number" line="12"><span class="token assign-left variable">logname</span><span class="token operator">=</span>root
</span><span class="code-line line-number" line="13"><span class="token assign-left variable"><span class="token environment constant">HOME</span></span><span class="token operator">=</span>/root
</span><span class="code-line line-number" line="14"><span class="token assign-left variable">SSH_CLIENT</span><span class="token operator">=</span><span class="token number">192.168</span>.1.21 <span class="token number">53087</span> <span class="token number">22</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{
for(k in ENVIRON){
  print k&#x22;=&#x22;ENVIRON[k];
}

}&#x27;
TERM=linux
G_BROKEN_FILENAMES=1
SHLVL=1
pwd=/root/text
...
logname=root
HOME=/root
SSH_CLIENT=192.168.1.21 53087 22
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>æ³¨ï¼šENVIRONæ˜¯awkå¸¸é‡ï¼Œæ˜¯å­å…¸å‹æ•°ç»„ã€‚</p>
<p>æ ¼å¼2ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">for<span class="token punctuation">(</span>å˜é‡<span class="token punctuation">;</span>æ¡ä»¶<span class="token punctuation">;</span>è¡¨è¾¾å¼<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="2">  <span class="token punctuation">{</span>è¯­å¥<span class="token punctuation">}</span>
</span></code><div onclick="copied(this)" data-code="for(å˜é‡;æ¡ä»¶;è¡¨è¾¾å¼)
  {è¯­å¥}
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>ç¤ºä¾‹ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{
</span></span><span class="code-line line-number" line="2"><span class="token string">total=0;
</span></span><span class="code-line line-number" line="3"><span class="token string">for(i=0;i&#x3C;=100;i++){
</span></span><span class="code-line line-number" line="4"><span class="token string">  total+=i;
</span></span><span class="code-line line-number" line="5"><span class="token string">}
</span></span><span class="code-line line-number" line="6"><span class="token string">print total;
</span></span><span class="code-line line-number" line="7"><span class="token string">}'</span>
</span><span class="code-line line-number" line="8"><span class="token number">5050</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{
total=0;
for(i=0;i<=100;i++){
  total+=i;
}
print total;
}&#x27;
5050
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="-doå¾ªç¯"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-doå¾ªç¯"><span class="octicon octicon-link"></span></a># doå¾ªç¯</h3>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">do</span>
</span><span class="code-line line-number" line="2"><span class="token punctuation">{</span>è¯­å¥<span class="token punctuation">}</span> while<span class="token punctuation">(</span>æ¡ä»¶<span class="token punctuation">)</span>
</span></code><div onclick="copied(this)" data-code="do
{è¯­å¥} while(æ¡ä»¶)
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>ä¾‹å­ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{ 
</span></span><span class="code-line line-number" line="2"><span class="token string">total=0;
</span></span><span class="code-line line-number" line="3"><span class="token string">i=0;
</span></span><span class="code-line line-number" line="4"><span class="token string">do {total+=i;i++;} while(i&#x3C;=100)
</span></span><span class="code-line line-number" line="5"><span class="token string">  print total;
</span></span><span class="code-line line-number" line="6"><span class="token string">}'</span>
</span><span class="code-line line-number" line="7"><span class="token number">5050</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{ 
total=0;
i=0;
do {total+=i;i++;} while(i<=100)
  print total;
}&#x27;
5050
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="å…¶ä»–è¯­å¥"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å…¶ä»–è¯­å¥"><span class="octicon octicon-link"></span></a>å…¶ä»–è¯­å¥</h3>
<ul>
  <li><strong>break</strong> å½“ break è¯­å¥ç”¨äº while æˆ– for è¯­å¥æ—¶ï¼Œå¯¼è‡´é€€å‡ºç¨‹åºå¾ªç¯ã€‚</li>
  <li><strong>continue</strong> å½“ continue è¯­å¥ç”¨äº while æˆ– for è¯­å¥æ—¶ï¼Œä½¿ç¨‹åºå¾ªç¯ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªè¿­ä»£ã€‚</li>
  <li><strong>next</strong> èƒ½èƒ½å¤Ÿå¯¼è‡´è¯»å…¥ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œï¼Œå¹¶è¿”å›åˆ°è„šæœ¬çš„é¡¶éƒ¨ã€‚è¿™å¯ä»¥é¿å…å¯¹å½“å‰è¾“å…¥è¡Œæ‰§è¡Œå…¶ä»–çš„æ“ä½œè¿‡ç¨‹ã€‚</li>
  <li><strong>exit</strong> è¯­å¥ä½¿ä¸»è¾“å…¥å¾ªç¯é€€å‡ºå¹¶å°†æ§åˆ¶è½¬ç§»åˆ°END,å¦‚æœENDå­˜åœ¨çš„è¯ã€‚å¦‚æœæ²¡æœ‰å®šä¹‰ENDè§„åˆ™ï¼Œæˆ–åœ¨ENDä¸­åº”ç”¨exitè¯­å¥ï¼Œåˆ™ç»ˆæ­¢è„šæœ¬çš„æ‰§è¡Œã€‚</li>
</ul>
<h2 id="æ•°ç»„åº”ç”¨"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æ•°ç»„åº”ç”¨"><span class="octicon octicon-link"></span></a>æ•°ç»„åº”ç”¨</h2>
<p>æ•°ç»„æ˜¯awkçš„çµé­‚ï¼Œå¤„ç†æ–‡æœ¬ä¸­æœ€ä¸èƒ½å°‘çš„å°±æ˜¯å®ƒçš„æ•°ç»„å¤„ç†ã€‚å› ä¸ºæ•°ç»„ç´¢å¼•ï¼ˆä¸‹æ ‡ï¼‰å¯ä»¥æ˜¯æ•°å­—å’Œå­—ç¬¦ä¸²åœ¨awkä¸­æ•°ç»„å«åšå…³è”æ•°ç»„(associative arrays)ã€‚awk ä¸­çš„æ•°ç»„ä¸å¿…æå‰å£°æ˜ï¼Œä¹Ÿä¸å¿…å£°æ˜å¤§å°ã€‚æ•°ç»„å…ƒç´ ç”¨0æˆ–ç©ºå­—ç¬¦ä¸²æ¥åˆå§‹åŒ–ï¼Œè¿™æ ¹æ®ä¸Šä¸‹æ–‡è€Œå®šã€‚</p>
<h3 id="æ•°ç»„çš„å®šä¹‰"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æ•°ç»„çš„å®šä¹‰"><span class="octicon octicon-link"></span></a>æ•°ç»„çš„å®šä¹‰</h3>
<p>æ•°å­—åšæ•°ç»„ç´¢å¼•ï¼ˆä¸‹æ ‡ï¼‰ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">Array<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"sun"</span>
</span><span class="code-line line-number" line="2">Array<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"kai"</span>
</span></code><div onclick="copied(this)" data-code="Array[1]=&#x22;sun&#x22;
Array[2]=&#x22;kai&#x22;
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>å­—ç¬¦ä¸²åšæ•°ç»„ç´¢å¼•ï¼ˆä¸‹æ ‡ï¼‰ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1">Array<span class="token punctuation">[</span><span class="token string">"first"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"www"</span>
</span><span class="code-line line-number" line="2">Array<span class="token string">"[last"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"name"</span>
</span><span class="code-line line-number" line="3">Array<span class="token punctuation">[</span><span class="token string">"birth"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"1987"</span>
</span></code><div onclick="copied(this)" data-code="Array[&#x22;first&#x22;]=&#x22;www&#x22;
Array&#x22;[last&#x22;]=&#x22;name&#x22;
Array[&#x22;birth&#x22;]=&#x22;1987&#x22;
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>ä½¿ç”¨ä¸­<code>print Array[1]</code>ä¼šæ‰“å°å‡ºsunï¼›ä½¿ç”¨<code>print Array[2]</code>ä¼šæ‰“å°å‡ºkaiï¼›ä½¿ç”¨<code>print["birth"]</code>ä¼šå¾—åˆ°1987ã€‚</p>
<p><strong>è¯»å–æ•°ç»„çš„å€¼</strong></p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token punctuation">{</span> for<span class="token punctuation">(</span>item <span class="token keyword">in</span> array<span class="token punctuation">)</span> <span class="token punctuation">{</span>print array<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>       <span class="token comment">#è¾“å‡ºçš„é¡ºåºæ˜¯éšæœºçš„</span>
</span><span class="code-line line-number" line="2"><span class="token punctuation">{</span> for<span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&#x3C;=</span>len<span class="token punctuation">;</span>i++<span class="token punctuation">)</span> <span class="token punctuation">{</span>print array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>         <span class="token comment">#Lenæ˜¯æ•°ç»„çš„é•¿åº¦</span>
</span></code><div onclick="copied(this)" data-code="{ for(item in array) {print array[item]}; }       #è¾“å‡ºçš„é¡ºåºæ˜¯éšæœºçš„
{ for(i=1;i<=len;i++) {print array[i]}; }         #Lenæ˜¯æ•°ç»„çš„é•¿åº¦
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="æ•°ç»„ç›¸å…³å‡½æ•°"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æ•°ç»„ç›¸å…³å‡½æ•°"><span class="octicon octicon-link"></span></a>æ•°ç»„ç›¸å…³å‡½æ•°</h3>
<p><strong>å¾—åˆ°æ•°ç»„é•¿åº¦ï¼š</strong></p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{info="it is a test";lens=split(info,tA," ");print length(tA),lens;}'</span>
</span><span class="code-line line-number" line="2"><span class="token number">4</span> <span class="token number">4</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{info=&#x22;it is a test&#x22;;lens=split(info,tA,&#x22; &#x22;);print length(tA),lens;}&#x27;
4 4
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>lengthè¿”å›å­—ç¬¦ä¸²ä»¥åŠæ•°ç»„é•¿åº¦ï¼Œsplitè¿›è¡Œåˆ†å‰²å­—ç¬¦ä¸²ä¸ºæ•°ç»„ï¼Œä¹Ÿä¼šè¿”å›åˆ†å‰²å¾—åˆ°æ•°ç»„é•¿åº¦ã€‚</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{info="it is a test";split(info,tA," ");print asort(tA);}'</span>
</span><span class="code-line line-number" line="2"><span class="token number">4</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{info=&#x22;it is a test&#x22;;split(info,tA,&#x22; &#x22;);print asort(tA);}&#x27;
4
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>asortå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œè¿”å›æ•°ç»„é•¿åº¦ã€‚</p>
<p><strong>è¾“å‡ºæ•°ç»„å†…å®¹ï¼ˆæ— åºï¼Œæœ‰åºè¾“å‡ºï¼‰ï¼š</strong></p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{info="it is a test";split(info,tA," ");for(k in tA){print k,tA[k];}}'</span>
</span><span class="code-line line-number" line="2"><span class="token number">4</span> <span class="token builtin class-name">test</span>
</span><span class="code-line line-number" line="3"><span class="token number">1</span> it
</span><span class="code-line line-number" line="4"><span class="token number">2</span> is
</span><span class="code-line line-number" line="5"><span class="token number">3</span> a 
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{info=&#x22;it is a test&#x22;;split(info,tA,&#x22; &#x22;);for(k in tA){print k,tA[k];}}&#x27;
4 test
1 it
2 is
3 a 
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><code>forâ€¦in</code>è¾“å‡ºï¼Œå› ä¸ºæ•°ç»„æ˜¯å…³è”æ•°ç»„ï¼Œé»˜è®¤æ˜¯æ— åºçš„ã€‚æ‰€ä»¥é€šè¿‡<code>forâ€¦in</code>å¾—åˆ°æ˜¯æ— åºçš„æ•°ç»„ã€‚å¦‚æœéœ€è¦å¾—åˆ°æœ‰åºæ•°ç»„ï¼Œéœ€è¦é€šè¿‡ä¸‹æ ‡è·å¾—ã€‚</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{info="it is a test";tlen=split(info,tA," ");for(k=1;k&#x3C;=tlen;k++){print k,tA[k];}}'</span>
</span><span class="code-line line-number" line="2"><span class="token number">1</span> it
</span><span class="code-line line-number" line="3"><span class="token number">2</span> is
</span><span class="code-line line-number" line="4"><span class="token number">3</span> a
</span><span class="code-line line-number" line="5"><span class="token number">4</span> <span class="token builtin class-name">test</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{info=&#x22;it is a test&#x22;;tlen=split(info,tA,&#x22; &#x22;);for(k=1;k<=tlen;k++){print k,tA[k];}}&#x27;
1 it
2 is
3 a
4 test
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>æ³¨æ„ï¼šæ•°ç»„ä¸‹æ ‡æ˜¯ä»1å¼€å§‹ï¼Œä¸Cæ•°ç»„ä¸ä¸€æ ·ã€‚</p>
<p><strong>åˆ¤æ–­é”®å€¼å­˜åœ¨ä»¥åŠåˆ é™¤é”®å€¼ï¼š</strong></p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># é”™è¯¯çš„åˆ¤æ–­æ–¹æ³•ï¼š</span>
</span><span class="code-line line-number" line="2"><span class="token function">awk</span> <span class="token string">'BEGIN{tB["a"]="a1";tB["b"]="b1";if(tB["c"]!="1"){print "no found";};for(k in tB){print k,tB[k];}}'</span> 
</span><span class="code-line line-number" line="3">no found
</span><span class="code-line line-number" line="4">a a1
</span><span class="code-line line-number" line="5">b b1
</span><span class="code-line line-number" line="6">c
</span></code><div onclick="copied(this)" data-code="# é”™è¯¯çš„åˆ¤æ–­æ–¹æ³•ï¼š
awk &#x27;BEGIN{tB[&#x22;a&#x22;]=&#x22;a1&#x22;;tB[&#x22;b&#x22;]=&#x22;b1&#x22;;if(tB[&#x22;c&#x22;]!=&#x22;1&#x22;){print &#x22;no found&#x22;;};for(k in tB){print k,tB[k];}}&#x27; 
no found
a a1
b b1
c
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>ä»¥ä¸Šå‡ºç°å¥‡æ€ªé—®é¢˜ï¼Œ<code>tB[â€œcâ€]</code>æ²¡æœ‰å®šä¹‰ï¼Œä½†æ˜¯å¾ªç¯æ—¶å€™ï¼Œå‘ç°å·²ç»å­˜åœ¨è¯¥é”®å€¼ï¼Œå®ƒçš„å€¼ä¸ºç©ºï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ï¼Œawkæ•°ç»„æ˜¯å…³è”æ•°ç»„ï¼Œåªè¦é€šè¿‡æ•°ç»„å¼•ç”¨å®ƒçš„keyï¼Œå°±ä¼šè‡ªåŠ¨åˆ›å»ºæ”¹åºåˆ—ã€‚</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># æ­£ç¡®åˆ¤æ–­æ–¹æ³•ï¼š</span>
</span><span class="code-line line-number" line="2"><span class="token function">awk</span> <span class="token string">'BEGIN{tB["a"]="a1";tB["b"]="b1";if( "c" in tB){print "ok";};for(k in tB){print k,tB[k];}}'</span>  
</span><span class="code-line line-number" line="3">a a1
</span><span class="code-line line-number" line="4">b b1
</span></code><div onclick="copied(this)" data-code="# æ­£ç¡®åˆ¤æ–­æ–¹æ³•ï¼š
awk &#x27;BEGIN{tB[&#x22;a&#x22;]=&#x22;a1&#x22;;tB[&#x22;b&#x22;]=&#x22;b1&#x22;;if( &#x22;c&#x22; in tB){print &#x22;ok&#x22;;};for(k in tB){print k,tB[k];}}&#x27;  
a a1
b b1
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><code>if(key in array)</code>é€šè¿‡è¿™ç§æ–¹æ³•åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å«<code>key</code>é”®å€¼ã€‚</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token comment">#åˆ é™¤é”®å€¼ï¼š</span>
</span><span class="code-line line-number" line="2"><span class="token function">awk</span> <span class="token string">'BEGIN{tB["a"]="a1";tB["b"]="b1";delete tB["a"];for(k in tB){print k,tB[k];}}'</span>                     
</span><span class="code-line line-number" line="3">b b1
</span></code><div onclick="copied(this)" data-code="#åˆ é™¤é”®å€¼ï¼š
awk &#x27;BEGIN{tB[&#x22;a&#x22;]=&#x22;a1&#x22;;tB[&#x22;b&#x22;]=&#x22;b1&#x22;;delete tB[&#x22;a&#x22;];for(k in tB){print k,tB[k];}}&#x27;                     
b b1
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><code>delete array[key]</code>å¯ä»¥åˆ é™¤ï¼Œå¯¹åº”æ•°ç»„<code>key</code>çš„ï¼Œåºåˆ—å€¼ã€‚</p>
<h3 id="äºŒç»´å¤šç»´æ•°ç»„ä½¿ç”¨"><a class="anchor" aria-hidden="true" tabindex="-1" href="#äºŒç»´å¤šç»´æ•°ç»„ä½¿ç”¨"><span class="octicon octicon-link"></span></a>äºŒç»´ã€å¤šç»´æ•°ç»„ä½¿ç”¨</h3>
<p>awkçš„å¤šç»´æ•°ç»„åœ¨æœ¬è´¨ä¸Šæ˜¯ä¸€ç»´æ•°ç»„ï¼Œæ›´ç¡®åˆ‡ä¸€ç‚¹ï¼Œawkåœ¨å­˜å‚¨ä¸Šå¹¶ä¸æ”¯æŒå¤šç»´æ•°ç»„ã€‚awkæä¾›äº†é€»è¾‘ä¸Šæ¨¡æ‹ŸäºŒç»´æ•°ç»„çš„è®¿é—®æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œ<code>array[2,4]=1</code>è¿™æ ·çš„è®¿é—®æ˜¯å…è®¸çš„ã€‚awkä½¿ç”¨ä¸€ä¸ªç‰¹æ®Šçš„å­—ç¬¦ä¸²<code>SUBSEP(ï¿½34)</code>ä½œä¸ºåˆ†å‰²å­—æ®µï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå…³è”æ•°ç»„arrayå­˜å‚¨çš„é”®å€¼å®é™…ä¸Šæ˜¯2ï¿½344ã€‚</p>
<p>ç±»ä¼¼ä¸€ç»´æ•°ç»„çš„æˆå‘˜æµ‹è¯•ï¼Œå¤šç»´æ•°ç»„å¯ä»¥ä½¿ç”¨<code>if ( (i,j) in array)</code>è¿™æ ·çš„è¯­æ³•ï¼Œä½†æ˜¯ä¸‹æ ‡å¿…é¡»æ”¾ç½®åœ¨åœ†æ‹¬å·ä¸­ã€‚ç±»ä¼¼ä¸€ç»´æ•°ç»„çš„å¾ªç¯è®¿é—®ï¼Œå¤šç»´æ•°ç»„ä½¿ç”¨<code>for ( item in array )</code>è¿™æ ·çš„è¯­æ³•éå†æ•°ç»„ã€‚ä¸ä¸€ç»´æ•°ç»„ä¸åŒçš„æ˜¯ï¼Œå¤šç»´æ•°ç»„å¿…é¡»ä½¿ç”¨<code>split()</code>å‡½æ•°æ¥è®¿é—®å•ç‹¬çš„ä¸‹æ ‡åˆ†é‡ã€‚</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{
</span></span><span class="code-line line-number" line="2"><span class="token string">for(i=1;i&#x3C;=9;i++){
</span></span><span class="code-line line-number" line="3"><span class="token string">  for(j=1;j&#x3C;=9;j++){
</span></span><span class="code-line line-number" line="4"><span class="token string">    tarr[i,j]=i*j; print i,"*",j,"=",tarr[i,j];
</span></span><span class="code-line line-number" line="5"><span class="token string">  }
</span></span><span class="code-line line-number" line="6"><span class="token string">}
</span></span><span class="code-line line-number" line="7"><span class="token string">}'</span>
</span><span class="code-line line-number" line="8"><span class="token number">1</span> * <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">1</span>
</span><span class="code-line line-number" line="9"><span class="token number">1</span> * <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">2</span>
</span><span class="code-line line-number" line="10"><span class="token number">1</span> * <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">3</span>
</span><span class="code-line line-number" line="11"><span class="token number">1</span> * <span class="token number">4</span> <span class="token operator">=</span> <span class="token number">4</span>
</span><span class="code-line line-number" line="12"><span class="token number">1</span> * <span class="token number">5</span> <span class="token operator">=</span> <span class="token number">5</span>
</span><span class="code-line line-number" line="13"><span class="token number">1</span> * <span class="token number">6</span> <span class="token operator">=</span> <span class="token number">6</span> 
</span><span class="code-line line-number" line="14"><span class="token punctuation">..</span>.
</span><span class="code-line line-number" line="15"><span class="token number">9</span> * <span class="token number">6</span> <span class="token operator">=</span> <span class="token number">54</span>
</span><span class="code-line line-number" line="16"><span class="token number">9</span> * <span class="token number">7</span> <span class="token operator">=</span> <span class="token number">63</span>
</span><span class="code-line line-number" line="17"><span class="token number">9</span> * <span class="token number">8</span> <span class="token operator">=</span> <span class="token number">72</span>
</span><span class="code-line line-number" line="18"><span class="token number">9</span> * <span class="token number">9</span> <span class="token operator">=</span> <span class="token number">81</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{
for(i=1;i<=9;i++){
  for(j=1;j<=9;j++){
    tarr[i,j]=i*j; print i,&#x22;*&#x22;,j,&#x22;=&#x22;,tarr[i,j];
  }
}
}&#x27;
1 * 1 = 1
1 * 2 = 2
1 * 3 = 3
1 * 4 = 4
1 * 5 = 5
1 * 6 = 6 
...
9 * 6 = 54
9 * 7 = 63
9 * 8 = 72
9 * 9 = 81
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>å¯ä»¥é€šè¿‡<code>array[k,k2]</code>å¼•ç”¨è·å¾—æ•°ç»„å†…å®¹ã€‚</p>
<p>å¦ä¸€ç§æ–¹æ³•ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{
</span></span><span class="code-line line-number" line="2"><span class="token string">for(i=1;i&#x3C;=9;i++){
</span></span><span class="code-line line-number" line="3"><span class="token string">  for(j=1;j&#x3C;=9;j++){
</span></span><span class="code-line line-number" line="4"><span class="token string">    tarr[i,j]=i*j;
</span></span><span class="code-line line-number" line="5"><span class="token string">  }
</span></span><span class="code-line line-number" line="6"><span class="token string">}
</span></span><span class="code-line line-number" line="7"><span class="token string">for(m in tarr){
</span></span><span class="code-line line-number" line="8"><span class="token string">  split(m,tarr2,SUBSEP); print tarr2[1],"*",tarr2[2],"=",tarr[m];
</span></span><span class="code-line line-number" line="9"><span class="token string">}
</span></span><span class="code-line line-number" line="10"><span class="token string">}'</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{
for(i=1;i<=9;i++){
  for(j=1;j<=9;j++){
    tarr[i,j]=i*j;
  }
}
for(m in tarr){
  split(m,tarr2,SUBSEP); print tarr2[1],&#x22;*&#x22;,tarr2[2],&#x22;=&#x22;,tarr[m];
}
}&#x27;
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h2 id="å†…ç½®å‡½æ•°"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å†…ç½®å‡½æ•°"><span class="octicon octicon-link"></span></a>å†…ç½®å‡½æ•°</h2>
<p>awkå†…ç½®å‡½æ•°ï¼Œä¸»è¦åˆ†ä»¥ä¸‹3ç§ç±»ä¼¼ï¼šç®—æ•°å‡½æ•°ã€å­—ç¬¦ä¸²å‡½æ•°ã€å…¶å®ƒä¸€èˆ¬å‡½æ•°ã€æ—¶é—´å‡½æ•°ã€‚</p>
<h3 id="ç®—æœ¯å‡½æ•°"><a class="anchor" aria-hidden="true" tabindex="-1" href="#ç®—æœ¯å‡½æ•°"><span class="octicon octicon-link"></span></a>ç®—æœ¯å‡½æ•°</h3>
<table>
  <thead>
    <tr>
      <th>æ ¼å¼</th>
      <th>æè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>atan2( y, x )</td>
      <td>è¿”å› y/x çš„åæ­£åˆ‡ã€‚</td>
    </tr>
    <tr>
      <td>cos( x )</td>
      <td>è¿”å› x çš„ä½™å¼¦ï¼›x æ˜¯å¼§åº¦ã€‚</td>
    </tr>
    <tr>
      <td>sin( x )</td>
      <td>è¿”å› x çš„æ­£å¼¦ï¼›x æ˜¯å¼§åº¦ã€‚</td>
    </tr>
    <tr>
      <td>exp( x )</td>
      <td>è¿”å› x å¹‚å‡½æ•°ã€‚</td>
    </tr>
    <tr>
      <td>log( x )</td>
      <td>è¿”å› x çš„è‡ªç„¶å¯¹æ•°ã€‚</td>
    </tr>
    <tr>
      <td>sqrt( x )</td>
      <td>è¿”å› x å¹³æ–¹æ ¹ã€‚</td>
    </tr>
    <tr>
      <td>int( x )</td>
      <td>è¿”å› x çš„æˆªæ–­è‡³æ•´æ•°çš„å€¼ã€‚</td>
    </tr>
    <tr>
      <td>rand( )</td>
      <td>è¿”å›ä»»æ„æ•°å­— nï¼Œå…¶ä¸­ 0 &#x3C;= n &#x3C; 1ã€‚</td>
    </tr>
    <tr>
      <td>srand( [expr] )</td>
      <td>å°† rand å‡½æ•°çš„ç§å­å€¼è®¾ç½®ä¸º Expr å‚æ•°çš„å€¼ï¼Œæˆ–å¦‚æœçœç•¥ Expr å‚æ•°åˆ™ä½¿ç”¨æŸå¤©çš„æ—¶é—´ã€‚è¿”å›å…ˆå‰çš„ç§å­å€¼ã€‚</td>
    </tr>
  </tbody>
</table>
<p>ä¸¾ä¾‹è¯´æ˜ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{OFMT="%.3f";fs=sin(1);fe=exp(10);fl=log(10);fi=int(3.1415);print fs,fe,fl,fi;}'</span>
</span><span class="code-line line-number" line="2"><span class="token number">0.841</span> <span class="token number">22026.466</span> <span class="token number">2.303</span> <span class="token number">3</span>
</span><span class="code-line line-number" line="3">
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{OFMT=&#x22;%.3f&#x22;;fs=sin(1);fe=exp(10);fl=log(10);fi=int(3.1415);print fs,fe,fl,fi;}&#x27;
0.841 22026.466 2.303 3

" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>OFMT è®¾ç½®è¾“å‡ºæ•°æ®æ ¼å¼æ˜¯ä¿ç•™3ä½å°æ•°ã€‚</p>
<p>è·å¾—éšæœºæ•°ï¼š</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{srand();fr=int(100*rand());print fr;}'</span>
</span><span class="code-line line-number" line="2"><span class="token number">78</span>
</span><span class="code-line line-number" line="3"><span class="token function">awk</span> <span class="token string">'BEGIN{srand();fr=int(100*rand());print fr;}'</span>
</span><span class="code-line line-number" line="4"><span class="token number">31</span>
</span><span class="code-line line-number" line="5"><span class="token function">awk</span> <span class="token string">'BEGIN{srand();fr=int(100*rand());print fr;}'</span>
</span><span class="code-line line-number" line="6"><span class="token number">41</span> 
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{srand();fr=int(100*rand());print fr;}&#x27;
78
awk &#x27;BEGIN{srand();fr=int(100*rand());print fr;}&#x27;
31
awk &#x27;BEGIN{srand();fr=int(100*rand());print fr;}&#x27;
41 
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="å­—ç¬¦ä¸²å‡½æ•°"><a class="anchor" aria-hidden="true" tabindex="-1" href="#å­—ç¬¦ä¸²å‡½æ•°"><span class="octicon octicon-link"></span></a>å­—ç¬¦ä¸²å‡½æ•°</h3>
<table>
  <thead>
    <tr>
      <th>æ ¼å¼</th>
      <th>æè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>gsub( Ere, Repl, [ In ] )</td>
      <td>é™¤äº†æ­£åˆ™è¡¨è¾¾å¼æ‰€æœ‰å…·ä½“å€¼è¢«æ›¿ä»£è¿™ç‚¹ï¼Œå®ƒå’Œ sub å‡½æ•°å®Œå…¨ä¸€æ ·åœ°æ‰§è¡Œã€‚</td>
    </tr>
    <tr>
      <td>sub( Ere, Repl, [ In ] )</td>
      <td>ç”¨ Repl å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²æ›¿æ¢ In å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²ä¸­çš„ç”± Ere å‚æ•°æŒ‡å®šçš„æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªå…·ä½“å€¼ã€‚sub å‡½æ•°è¿”å›æ›¿æ¢çš„æ•°é‡ã€‚å‡ºç°åœ¨ Repl å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²ä¸­çš„ &#x26;ï¼ˆå’Œç¬¦å·ï¼‰ç”± In å‚æ•°æŒ‡å®šçš„ä¸ Ere å‚æ•°çš„æŒ‡å®šçš„æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å­—ç¬¦ä¸²æ›¿æ¢ã€‚å¦‚æœæœªæŒ‡å®š In å‚æ•°ï¼Œç¼ºçœå€¼æ˜¯æ•´ä¸ªè®°å½•ï¼ˆ$0 è®°å½•å˜é‡ï¼‰ã€‚</td>
    </tr>
    <tr>
      <td>index( String1, String2 )</td>
      <td>åœ¨ç”± String1 å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²ï¼ˆå…¶ä¸­æœ‰å‡ºç° String2 æŒ‡å®šçš„å‚æ•°ï¼‰ä¸­ï¼Œè¿”å›ä½ç½®ï¼Œä» 1 å¼€å§‹ç¼–å·ã€‚å¦‚æœ String2 å‚æ•°ä¸åœ¨ String1 å‚æ•°ä¸­å‡ºç°ï¼Œåˆ™è¿”å› 0ï¼ˆé›¶ï¼‰ã€‚</td>
    </tr>
    <tr>
      <td>length [(String)]</td>
      <td>è¿”å› String å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆå­—ç¬¦å½¢å¼ï¼‰ã€‚å¦‚æœæœªç»™å‡º String å‚æ•°ï¼Œåˆ™è¿”å›æ•´ä¸ªè®°å½•çš„é•¿åº¦ï¼ˆ$0 è®°å½•å˜é‡ï¼‰ã€‚</td>
    </tr>
    <tr>
      <td>blength [(String)]</td>
      <td>è¿”å› String å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚å¦‚æœæœªç»™å‡º String å‚æ•°ï¼Œåˆ™è¿”å›æ•´ä¸ªè®°å½•çš„é•¿åº¦ï¼ˆ$0 è®°å½•å˜é‡ï¼‰ã€‚</td>
    </tr>
    <tr>
      <td>substr( String, M, [ N ] )</td>
      <td>è¿”å›å…·æœ‰ N å‚æ•°æŒ‡å®šçš„å­—ç¬¦æ•°é‡å­ä¸²ã€‚å­ä¸²ä» String å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²å–å¾—ï¼Œå…¶å­—ç¬¦ä»¥ M å‚æ•°æŒ‡å®šçš„ä½ç½®å¼€å§‹ã€‚M å‚æ•°æŒ‡å®šä¸ºå°† String å‚æ•°ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä½œä¸ºç¼–å· 1ã€‚å¦‚æœæœªæŒ‡å®š N å‚æ•°ï¼Œåˆ™å­ä¸²çš„é•¿åº¦å°†æ˜¯ M å‚æ•°æŒ‡å®šçš„ä½ç½®åˆ° String å‚æ•°çš„æœ«å°¾ çš„é•¿åº¦ã€‚</td>
    </tr>
    <tr>
      <td>match( String, Ere )</td>
      <td>åœ¨ String å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²ï¼ˆEre å‚æ•°æŒ‡å®šçš„æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼å‡ºç°åœ¨å…¶ä¸­ï¼‰ä¸­è¿”å›ä½ç½®ï¼ˆå­—ç¬¦å½¢å¼ï¼‰ï¼Œä» 1 å¼€å§‹ç¼–å·ï¼Œæˆ–å¦‚æœ Ere å‚æ•°ä¸å‡ºç°ï¼Œåˆ™è¿”å› 0ï¼ˆé›¶ï¼‰ã€‚RSTART ç‰¹æ®Šå˜é‡è®¾ç½®ä¸ºè¿”å›å€¼ã€‚RLENGTH ç‰¹æ®Šå˜é‡è®¾ç½®ä¸ºåŒ¹é…çš„å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œæˆ–å¦‚æœæœªæ‰¾åˆ°ä»»ä½•åŒ¹é…ï¼Œåˆ™è®¾ç½®ä¸º -1ï¼ˆè´Ÿä¸€ï¼‰ã€‚</td>
    </tr>
    <tr>
      <td>split( String, A, [Ere] )</td>
      <td>å°† String å‚æ•°æŒ‡å®šçš„å‚æ•°åˆ†å‰²ä¸ºæ•°ç»„å…ƒç´  A[1], A[2], . . ., A[n]ï¼Œå¹¶è¿”å› n å˜é‡çš„å€¼ã€‚æ­¤åˆ†éš”å¯ä»¥é€šè¿‡ Ere å‚æ•°æŒ‡å®šçš„æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œï¼Œæˆ–ç”¨å½“å‰å­—æ®µåˆ†éš”ç¬¦ï¼ˆFS ç‰¹æ®Šå˜é‡ï¼‰æ¥è¿›è¡Œï¼ˆå¦‚æœæ²¡æœ‰ç»™å‡º Ere å‚æ•°ï¼‰ã€‚é™¤éä¸Šä¸‹æ–‡æŒ‡æ˜ç‰¹å®šçš„å…ƒç´ è¿˜åº”å…·æœ‰ä¸€ä¸ªæ•°å­—å€¼ï¼Œå¦åˆ™ A æ•°ç»„ä¸­çš„å…ƒç´ ç”¨å­—ç¬¦ä¸²å€¼æ¥åˆ›å»ºã€‚</td>
    </tr>
    <tr>
      <td>tolower( String )</td>
      <td>è¿”å› String å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²ä¸­æ¯ä¸ªå¤§å†™å­—ç¬¦å°†æ›´æ”¹ä¸ºå°å†™ã€‚å¤§å†™å’Œå°å†™çš„æ˜ å°„ç”±å½“å‰è¯­è¨€ç¯å¢ƒçš„ LC_CTYPE èŒƒç•´å®šä¹‰ã€‚</td>
    </tr>
    <tr>
      <td>toupper( String )</td>
      <td>è¿”å› String å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²ä¸­æ¯ä¸ªå°å†™å­—ç¬¦å°†æ›´æ”¹ä¸ºå¤§å†™ã€‚å¤§å†™å’Œå°å†™çš„æ˜ å°„ç”±å½“å‰è¯­è¨€ç¯å¢ƒçš„ LC_CTYPE èŒƒç•´å®šä¹‰ã€‚</td>
    </tr>
    <tr>
      <td>sprintf(Format, Expr, Expr, . . . )</td>
      <td>æ ¹æ® Format å‚æ•°æŒ‡å®šçš„ printf å­ä¾‹ç¨‹æ ¼å¼å­—ç¬¦ä¸²æ¥æ ¼å¼åŒ– Expr å‚æ•°æŒ‡å®šçš„è¡¨è¾¾å¼å¹¶è¿”å›æœ€åç”Ÿæˆçš„å­—ç¬¦ä¸²ã€‚</td>
    </tr>
  </tbody>
</table>
<p>æ³¨ï¼šEreéƒ½å¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚</p>
<p><strong>gsub,subä½¿ç”¨</strong></p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{info="this is a test2010test!";gsub(/[0-9]+/,"!",info);print info}'</span>
</span><span class="code-line line-number" line="2">this is a test<span class="token operator">!</span>test<span class="token operator">!</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{info=&#x22;this is a test2010test!&#x22;;gsub(/[0-9]+/,&#x22;!&#x22;,info);print info}&#x27;
this is a test!test!
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>åœ¨ infoä¸­æŸ¥æ‰¾æ»¡è¶³æ­£åˆ™è¡¨è¾¾å¼ï¼Œ<code>/[0-9]+/</code> ç”¨<code>â€â€</code>æ›¿æ¢ï¼Œå¹¶ä¸”æ›¿æ¢åçš„å€¼ï¼Œèµ‹å€¼ç»™info æœªç»™infoå€¼ï¼Œé»˜è®¤æ˜¯<code>$0</code></p>
<p><strong>æŸ¥æ‰¾å­—ç¬¦ä¸²ï¼ˆindexä½¿ç”¨ï¼‰</strong></p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{info="this is a test2010test!";print index(info,"test")?"ok":"no found";}'</span>
</span><span class="code-line line-number" line="2">ok
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{info=&#x22;this is a test2010test!&#x22;;print index(info,&#x22;test&#x22;)?&#x22;ok&#x22;:&#x22;no found&#x22;;}&#x27;
ok
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>æœªæ‰¾åˆ°ï¼Œè¿”å›0</p>
<p><strong>æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æŸ¥æ‰¾(matchä½¿ç”¨ï¼‰</strong></p>
<pre><code class="code-highlight"><span class="code-line line-number" line="1">awk 'BEGIN{info="this is a test2010test!";print match(info,/[0-9]+/)?"ok":"no found";}'
</span><span class="code-line line-number" line="2">ok
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{info=&#x22;this is a test2010test!&#x22;;print match(info,/[0-9]+/)?&#x22;ok&#x22;:&#x22;no found&#x22;;}&#x27;
ok
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>æˆªå–å­—ç¬¦ä¸²(substrä½¿ç”¨ï¼‰</strong></p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token punctuation">[</span>wangsl@centos5 ~<span class="token punctuation">]</span>$ <span class="token function">awk</span> <span class="token string">'BEGIN{info="this is a test2010test!";print substr(info,4,10);}'</span>
</span><span class="code-line line-number" line="2">s is a tes
</span></code><div onclick="copied(this)" data-code="[wangsl@centos5 ~]$ awk &#x27;BEGIN{info=&#x22;this is a test2010test!&#x22;;print substr(info,4,10);}&#x27;
s is a tes
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>ä»ç¬¬ 4ä¸ª å­—ç¬¦å¼€å§‹ï¼Œæˆªå–10ä¸ªé•¿åº¦å­—ç¬¦ä¸²</p>
<p><strong>å­—ç¬¦ä¸²åˆ†å‰²ï¼ˆsplitä½¿ç”¨ï¼‰</strong></p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{info="this is a test";split(info,tA," ");print length(tA);for(k in tA){print k,tA[k];}}'</span>
</span><span class="code-line line-number" line="2"><span class="token number">4</span>
</span><span class="code-line line-number" line="3"><span class="token number">4</span> <span class="token builtin class-name">test</span>
</span><span class="code-line line-number" line="4"><span class="token number">1</span> this
</span><span class="code-line line-number" line="5"><span class="token number">2</span> is
</span><span class="code-line line-number" line="6"><span class="token number">3</span> a
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{info=&#x22;this is a test&#x22;;split(info,tA,&#x22; &#x22;);print length(tA);for(k in tA){print k,tA[k];}}&#x27;
4
4 test
1 this
2 is
3 a
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>åˆ†å‰²infoï¼ŒåŠ¨æ€åˆ›å»ºæ•°ç»„tAï¼Œè¿™é‡Œæ¯”è¾ƒæœ‰æ„æ€ï¼Œ<code>awk for â€¦in</code>å¾ªç¯ï¼Œæ˜¯ä¸€ä¸ªæ— åºçš„å¾ªç¯ã€‚ å¹¶ä¸æ˜¯ä»æ•°ç»„ä¸‹æ ‡1â€¦n ï¼Œå› æ­¤ä½¿ç”¨æ—¶å€™éœ€è¦æ³¨æ„ã€‚</p>
<p><strong>æ ¼å¼åŒ–å­—ç¬¦ä¸²è¾“å‡ºï¼ˆsprintfä½¿ç”¨ï¼‰</strong></p>
<p>æ ¼å¼åŒ–å­—ç¬¦ä¸²æ ¼å¼ï¼š</p>
<p>å…¶ä¸­æ ¼å¼åŒ–å­—ç¬¦ä¸²åŒ…æ‹¬ä¸¤éƒ¨åˆ†å†…å®¹ï¼šä¸€éƒ¨åˆ†æ˜¯æ­£å¸¸å­—ç¬¦ï¼Œè¿™äº›å­—ç¬¦å°†æŒ‰åŸæ ·è¾“å‡º; å¦ä¸€éƒ¨åˆ†æ˜¯æ ¼å¼åŒ–è§„å®šå­—ç¬¦ï¼Œä»¥<code>"%"</code>å¼€å§‹ï¼Œåè·Ÿä¸€ä¸ªæˆ–å‡ ä¸ªè§„å®šå­—ç¬¦,ç”¨æ¥ç¡®å®šè¾“å‡ºå†…å®¹æ ¼å¼ã€‚</p>
<table>
  <thead>
    <tr>
      <th>æ ¼å¼</th>
      <th>æè¿°</th>
      <th>æ ¼å¼</th>
      <th>æè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>%d</td>
      <td>åè¿›åˆ¶æœ‰ç¬¦å·æ•´æ•°</td>
      <td>%u</td>
      <td>åè¿›åˆ¶æ— ç¬¦å·æ•´æ•°</td>
    </tr>
    <tr>
      <td>%f</td>
      <td>æµ®ç‚¹æ•°</td>
      <td>%s</td>
      <td>å­—ç¬¦ä¸²</td>
    </tr>
    <tr>
      <td>%c</td>
      <td>å•ä¸ªå­—ç¬¦</td>
      <td>%p</td>
      <td>æŒ‡é’ˆçš„å€¼</td>
    </tr>
    <tr>
      <td>%e</td>
      <td>æŒ‡æ•°å½¢å¼çš„æµ®ç‚¹æ•°</td>
      <td>%x</td>
      <td>%X æ— ç¬¦å·ä»¥åå…­è¿›åˆ¶è¡¨ç¤ºçš„æ•´æ•°</td>
    </tr>
    <tr>
      <td>%o</td>
      <td>æ— ç¬¦å·ä»¥å…«è¿›åˆ¶è¡¨ç¤ºçš„æ•´æ•°</td>
      <td>%g</td>
      <td>è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„è¡¨ç¤ºæ³•</td>
    </tr>
  </tbody>
</table>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{n1=124.113;n2=-1.224;n3=1.2345; printf("%.2f,%.2u,%.2g,%X,%on",n1,n2,n3,n1,n1);}'</span>
</span><span class="code-line line-number" line="2"><span class="token number">124.11</span>,18446744073709551615,1.2,7C,174
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{n1=124.113;n2=-1.224;n3=1.2345; printf(&#x22;%.2f,%.2u,%.2g,%X,%on&#x22;,n1,n2,n3,n1,n1);}&#x27;
124.11,18446744073709551615,1.2,7C,174
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="ä¸€èˆ¬å‡½æ•°"><a class="anchor" aria-hidden="true" tabindex="-1" href="#ä¸€èˆ¬å‡½æ•°"><span class="octicon octicon-link"></span></a>ä¸€èˆ¬å‡½æ•°</h3>
<table>
  <thead>
    <tr>
      <th>æ ¼å¼</th>
      <th>æè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>close( Expression )</td>
      <td>ç”¨åŒä¸€ä¸ªå¸¦å­—ç¬¦ä¸²å€¼çš„ Expression å‚æ•°æ¥å…³é—­ç”± print æˆ– printf è¯­å¥æ‰“å¼€çš„æˆ–è°ƒç”¨ getline å‡½æ•°æ‰“å¼€çš„æ–‡ä»¶æˆ–ç®¡é“ã€‚å¦‚æœæ–‡ä»¶æˆ–ç®¡é“æˆåŠŸå…³é—­ï¼Œåˆ™è¿”å› 0ï¼›å…¶å®ƒæƒ…å†µä¸‹è¿”å›éé›¶å€¼ã€‚å¦‚æœæ‰“ç®—å†™ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶ç¨ååœ¨åŒä¸€ä¸ªç¨‹åºä¸­è¯»å–æ–‡ä»¶ï¼Œåˆ™ close è¯­å¥æ˜¯å¿…éœ€çš„ã€‚</td>
    </tr>
    <tr>
      <td>system(command )</td>
      <td>æ‰§è¡Œ Command å‚æ•°æŒ‡å®šçš„å‘½ä»¤ï¼Œå¹¶è¿”å›é€€å‡ºçŠ¶æ€ã€‚ç­‰åŒäº system å­ä¾‹ç¨‹ã€‚</td>
    </tr>
    <tr>
      <td>Expression <code>|</code> getline [ Variable ]</td>
      <td>ä»æ¥è‡ª Expression å‚æ•°æŒ‡å®šçš„å‘½ä»¤çš„è¾“å‡ºä¸­é€šè¿‡ç®¡é“ä¼ é€çš„æµä¸­è¯»å–ä¸€ä¸ªè¾“å…¥è®°å½•ï¼Œå¹¶å°†è¯¥è®°å½•çš„å€¼æŒ‡å®šç»™ Variable å‚æ•°æŒ‡å®šçš„å˜é‡ã€‚å¦‚æœå½“å‰æœªæ‰“å¼€å°† Expression å‚æ•°çš„å€¼ä½œä¸ºå…¶å‘½ä»¤åç§°çš„æµï¼Œåˆ™åˆ›å»ºæµã€‚åˆ›å»ºçš„æµç­‰åŒäºè°ƒç”¨ popen å­ä¾‹ç¨‹ï¼Œæ­¤æ—¶ Command å‚æ•°å– Expression å‚æ•°çš„å€¼ä¸” Mode å‚æ•°è®¾ç½®ä¸ºä¸€ä¸ªæ˜¯ r çš„å€¼ã€‚åªè¦æµä¿ç•™æ‰“å¼€ä¸” Expression å‚æ•°æ±‚å¾—åŒä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™å¯¹ getline å‡½æ•°çš„æ¯æ¬¡åç»­è°ƒç”¨è¯»å–å¦ä¸€ä¸ªè®°å½•ã€‚å¦‚æœæœªæŒ‡å®š Variable å‚æ•°ï¼Œåˆ™ $0 è®°å½•å˜é‡å’Œ NF ç‰¹æ®Šå˜é‡è®¾ç½®ä¸ºä»æµè¯»å–çš„è®°å½•ã€‚</td>
    </tr>
    <tr>
      <td>getline [ Variable ] &#x3C; Expression</td>
      <td>ä» Expression å‚æ•°æŒ‡å®šçš„æ–‡ä»¶è¯»å–è¾“å…¥çš„ä¸‹ä¸€ä¸ªè®°å½•ï¼Œå¹¶å°† Variable å‚æ•°æŒ‡å®šçš„å˜é‡è®¾ç½®ä¸ºè¯¥è®°å½•çš„å€¼ã€‚åªè¦æµä¿ç•™æ‰“å¼€ä¸” Expression å‚æ•°å¯¹åŒä¸€ä¸ªå­—ç¬¦ä¸²æ±‚å€¼ï¼Œåˆ™å¯¹ getline å‡½æ•°çš„æ¯æ¬¡åç»­è°ƒç”¨è¯»å–å¦ä¸€ä¸ªè®°å½•ã€‚å¦‚æœæœªæŒ‡å®š Variable å‚æ•°ï¼Œåˆ™ $0 è®°å½•å˜é‡å’Œ NF ç‰¹æ®Šå˜é‡è®¾ç½®ä¸ºä»æµè¯»å–çš„è®°å½•ã€‚</td>
    </tr>
    <tr>
      <td>getline [ Variable ]</td>
      <td>å°† Variable å‚æ•°æŒ‡å®šçš„å˜é‡è®¾ç½®ä¸ºä»å½“å‰è¾“å…¥æ–‡ä»¶è¯»å–çš„ä¸‹ä¸€ä¸ªè¾“å…¥è®°å½•ã€‚å¦‚æœæœªæŒ‡å®š Variable å‚æ•°ï¼Œåˆ™ $0 è®°å½•å˜é‡è®¾ç½®ä¸ºè¯¥è®°å½•çš„å€¼ï¼Œè¿˜å°†è®¾ç½® NFã€NR å’Œ FNR ç‰¹æ®Šå˜é‡ã€‚</td>
    </tr>
  </tbody>
</table>
<p><strong>æ‰“å¼€å¤–éƒ¨æ–‡ä»¶ï¼ˆcloseç”¨æ³•ï¼‰</strong></p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{while("cat /etc/passwd"|getline){print $0;};close("/etc/passwd");}'</span>
</span><span class="code-line line-number" line="2">root:x:0:0:root:/root:/bin/bash
</span><span class="code-line line-number" line="3">bin:x:1:1:bin:/bin:/sbin/nologin
</span><span class="code-line line-number" line="4">daemon:x:2:2:daemon:/sbin:/sbin/nologin
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{while(&#x22;cat /etc/passwd&#x22;|getline){print $0;};close(&#x22;/etc/passwd&#x22;);}&#x27;
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>é€è¡Œè¯»å–å¤–éƒ¨æ–‡ä»¶(getlineä½¿ç”¨æ–¹æ³•ï¼‰</strong></p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{while(getline &#x3C; "/etc/passwd"){print $0;};close("/etc/passwd");}'</span>
</span><span class="code-line line-number" line="2">root:x:0:0:root:/root:/bin/bash
</span><span class="code-line line-number" line="3">bin:x:1:1:bin:/bin:/sbin/nologin
</span><span class="code-line line-number" line="4">daemon:x:2:2:daemon:/sbin:/sbin/nologin
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{while(getline < &#x22;/etc/passwd&#x22;){print $0;};close(&#x22;/etc/passwd&#x22;);}&#x27;
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{print "Enter your name:";getline name;print name;}'</span>
</span><span class="code-line line-number" line="2">Enter your name:
</span><span class="code-line line-number" line="3">chengmo
</span><span class="code-line line-number" line="4">chengmo
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{print &#x22;Enter your name:&#x22;;getline name;print name;}&#x27;
Enter your name:
chengmo
chengmo
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>è°ƒç”¨å¤–éƒ¨åº”ç”¨ç¨‹åº(systemä½¿ç”¨æ–¹æ³•ï¼‰</strong></p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{b=system("ls -al");print b;}'</span>
</span><span class="code-line line-number" line="2">total <span class="token number">42092</span>
</span><span class="code-line line-number" line="3">drwxr-xr-x <span class="token number">14</span> chengmo chengmo     <span class="token number">4096</span> 09-30 <span class="token number">17</span>:47 <span class="token builtin class-name">.</span>
</span><span class="code-line line-number" line="4">drwxr-xr-x <span class="token number">95</span> root   root       <span class="token number">4096</span> <span class="token number">10</span>-08 <span class="token number">14</span>:01 <span class="token punctuation">..</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{b=system(&#x22;ls -al&#x22;);print b;}&#x27;
total 42092
drwxr-xr-x 14 chengmo chengmo     4096 09-30 17:47 .
drwxr-xr-x 95 root   root       4096 10-08 14:01 ..
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>bè¿”å›å€¼ï¼Œæ˜¯æ‰§è¡Œç»“æœã€‚</p>
<h3 id="æ—¶é—´å‡½æ•°"><a class="anchor" aria-hidden="true" tabindex="-1" href="#æ—¶é—´å‡½æ•°"><span class="octicon octicon-link"></span></a>æ—¶é—´å‡½æ•°</h3>
<table>
  <thead>
    <tr>
      <th>æ ¼å¼</th>
      <th>æè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>å‡½æ•°å</td>
      <td>è¯´æ˜</td>
    </tr>
    <tr>
      <td>mktime( YYYY MM dd HH MM ss[ DST])</td>
      <td>ç”Ÿæˆæ—¶é—´æ ¼å¼</td>
    </tr>
    <tr>
      <td>strftime([format [, timestamp]])</td>
      <td>æ ¼å¼åŒ–æ—¶é—´è¾“å‡ºï¼Œå°†æ—¶é—´æˆ³è½¬ä¸ºæ—¶é—´å­—ç¬¦ä¸²å…·ä½“æ ¼å¼ï¼Œè§ä¸‹è¡¨ã€‚</td>
    </tr>
    <tr>
      <td>systime()</td>
      <td>å¾—åˆ°æ—¶é—´æˆ³ï¼Œè¿”å›ä»1970å¹´1æœˆ1æ—¥å¼€å§‹åˆ°å½“å‰æ—¶é—´(ä¸è®¡é—°å¹´)çš„æ•´ç§’æ•°</td>
    </tr>
  </tbody>
</table>
<p><strong>å»ºæŒ‡å®šæ—¶é—´(mktimeä½¿ç”¨ï¼‰</strong></p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{tstamp=mktime("2001 01 01 12 12 12");print strftime("%c",tstamp);}'</span>
</span><span class="code-line line-number" line="2"><span class="token number">2001</span>å¹´01æœˆ01æ—¥ æ˜ŸæœŸä¸€ <span class="token number">12</span>æ—¶12åˆ†12ç§’
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{tstamp=mktime(&#x22;2001 01 01 12 12 12&#x22;);print strftime(&#x22;%c&#x22;,tstamp);}&#x27;
2001å¹´01æœˆ01æ—¥ æ˜ŸæœŸä¸€ 12æ—¶12åˆ†12ç§’
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{tstamp1=mktime("2001 01 01 12 12 12");tstamp2=mktime("2001 02 01 0 0 0");print tstamp2-tstamp1;}'</span>
</span><span class="code-line line-number" line="2"><span class="token number">2634468</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{tstamp1=mktime(&#x22;2001 01 01 12 12 12&#x22;);tstamp2=mktime(&#x22;2001 02 01 0 0 0&#x22;);print tstamp2-tstamp1;}&#x27;
2634468
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>æ±‚2ä¸ªæ—¶é—´æ®µä¸­é—´æ—¶é—´å·®ï¼Œä»‹ç»äº†strftimeä½¿ç”¨æ–¹æ³•</p>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line line-number" line="1"><span class="token function">awk</span> <span class="token string">'BEGIN{tstamp1=mktime("2001 01 01 12 12 12");tstamp2=systime();print tstamp2-tstamp1;}'</span> 
</span><span class="code-line line-number" line="2"><span class="token number">308201392</span>
</span></code><div onclick="copied(this)" data-code="awk &#x27;BEGIN{tstamp1=mktime(&#x22;2001 01 01 12 12 12&#x22;);tstamp2=systime();print tstamp2-tstamp1;}&#x27; 
308201392
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>strftimeæ—¥æœŸå’Œæ—¶é—´æ ¼å¼è¯´æ˜ç¬¦</strong></p>
<table>
  <thead>
    <tr>
      <th>æ ¼å¼</th>
      <th>æè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>%a</td>
      <td>æ˜ŸæœŸå‡ çš„ç¼©å†™(Sun)</td>
    </tr>
    <tr>
      <td>%A</td>
      <td>æ˜ŸæœŸå‡ çš„å®Œæ•´å†™æ³•(Sunday)</td>
    </tr>
    <tr>
      <td>%b</td>
      <td>æœˆåçš„ç¼©å†™(Oct)</td>
    </tr>
    <tr>
      <td>%B</td>
      <td>æœˆåçš„å®Œæ•´å†™æ³•(October)</td>
    </tr>
    <tr>
      <td>%c</td>
      <td>æœ¬åœ°æ—¥æœŸå’Œæ—¶é—´</td>
    </tr>
    <tr>
      <td>%d</td>
      <td>åè¿›åˆ¶æ—¥æœŸ</td>
    </tr>
    <tr>
      <td>%D</td>
      <td>æ—¥æœŸ 08/20/99</td>
    </tr>
    <tr>
      <td>%e</td>
      <td>æ—¥æœŸï¼Œå¦‚æœåªæœ‰ä¸€ä½ä¼šè¡¥ä¸Šä¸€ä¸ªç©ºæ ¼</td>
    </tr>
    <tr>
      <td>%H</td>
      <td>ç”¨åè¿›åˆ¶è¡¨ç¤º24å°æ—¶æ ¼å¼çš„å°æ—¶</td>
    </tr>
    <tr>
      <td>%I</td>
      <td>ç”¨åè¿›åˆ¶è¡¨ç¤º12å°æ—¶æ ¼å¼çš„å°æ—¶</td>
    </tr>
    <tr>
      <td>%j</td>
      <td>ä»1æœˆ1æ—¥èµ·ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©</td>
    </tr>
    <tr>
      <td>%m</td>
      <td>åè¿›åˆ¶è¡¨ç¤ºçš„æœˆä»½</td>
    </tr>
    <tr>
      <td>%M</td>
      <td>åè¿›åˆ¶è¡¨ç¤ºçš„åˆ†é’Ÿ</td>
    </tr>
    <tr>
      <td>%p</td>
      <td>12å°æ—¶è¡¨ç¤ºæ³•(AM/PM)</td>
    </tr>
    <tr>
      <td>%S</td>
      <td>åè¿›åˆ¶è¡¨ç¤ºçš„ç§’</td>
    </tr>
    <tr>
      <td>%U</td>
      <td>åè¿›åˆ¶è¡¨ç¤ºçš„ä¸€å¹´ä¸­çš„ç¬¬å‡ ä¸ªæ˜ŸæœŸ(æ˜ŸæœŸå¤©ä½œä¸ºä¸€ä¸ªæ˜ŸæœŸçš„å¼€å§‹)</td>
    </tr>
    <tr>
      <td>%w</td>
      <td>åè¿›åˆ¶è¡¨ç¤ºçš„æ˜ŸæœŸå‡ (æ˜ŸæœŸå¤©æ˜¯0)</td>
    </tr>
    <tr>
      <td>%W</td>
      <td>åè¿›åˆ¶è¡¨ç¤ºçš„ä¸€å¹´ä¸­çš„ç¬¬å‡ ä¸ªæ˜ŸæœŸ(æ˜ŸæœŸä¸€ä½œä¸ºä¸€ä¸ªæ˜ŸæœŸçš„å¼€å§‹)</td>
    </tr>
    <tr>
      <td>%x</td>
      <td>é‡æ–°è®¾ç½®æœ¬åœ°æ—¥æœŸ(08/20/99)</td>
    </tr>
    <tr>
      <td>%X</td>
      <td>é‡æ–°è®¾ç½®æœ¬åœ°æ—¶é—´(12:00:00)</td>
    </tr>
    <tr>
      <td>%y</td>
      <td>ä¸¤ä½æ•°å­—è¡¨ç¤ºçš„å¹´(99)</td>
    </tr>
    <tr>
      <td>%Y</td>
      <td>å½“å‰æœˆä»½</td>
    </tr>
    <tr>
      <td>%%</td>
      <td>ç™¾åˆ†å·(%)</td>
    </tr>
  </tbody>
</table>
<style>.markdown-body pre .copied {
  display: flex;
  position: absolute;
  cursor: pointer;
  color: #a5afbb;
  top: 6px;
  right: 6px;
  border-radius: 5px;
  background: #82828226;
  padding: 6px;
  font-size: 12px;
  transition: all .3s;
}
.markdown-body pre .copied:not(.active) {
  visibility: hidden;
}
.markdown-body pre:hover .copied {
  visibility: visible;
}
.markdown-body pre:hover .copied:hover {
  background: #4caf50;
  color: #fff;
}
.markdown-body pre:hover .copied:active,
.markdown-body pre .copied.active {
  background: #2e9b33;
  color: #fff;
}
.markdown-body pre .copied .octicon-copy {
  display: block;
}
.markdown-body pre .copied .octicon-check {
  display: none;
}
.markdown-body pre .active .octicon-copy {
  display: none;
}
.markdown-body pre .active .octicon-check {
  display: block;
}</style><script>/*! @uiw/copy-to-clipboard v1.0.12 | MIT (c) 2021 Kenny Wang | https://github.com/uiwjs/copy-to-clipboard.git */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).copyTextToClipboard=t()}(this,(function(){"use strict";return function(e,t){const o=document.createElement("textarea");o.value=e,o.setAttribute("readonly",""),o.style={position:"absolute",left:"-9999px"},document.body.appendChild(o);const n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);o.select();let c=!1;try{c=!!document.execCommand("copy")}catch(e){c=!1}document.body.removeChild(o),n&&document.getSelection&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n)),t&&t(c)}}));

function copied(target, str) {
  target.classList.add('active');
  copyTextToClipboard(target.dataset.code, function() {
    setTimeout(() => {
      target.classList.remove('active');
    }, 2000);
  });
}</script></markdown-style>

</div>
<!-- Linuxå‘½ä»¤è¡Œæœç´¢å¼•æ“ï¼šhttps://deemoprobe.github.io/linux-command/ -->

<script type="text/javascript" src="../js/dt.js?v=1656048690055"></script>
<script type="text/javascript" src="../js/index.js?v=1656048690055"></script>
</body>
</html>