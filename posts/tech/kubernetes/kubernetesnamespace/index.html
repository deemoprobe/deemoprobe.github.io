<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>KubernetesNamespace | William&#39;s Blog</title>
<meta name="keywords" content="">
<meta name="description" content="Kubernetes Namespace">
<meta name="author" content="deemoprobe">
<link rel="canonical" href="https://deemoprobe.github.io/posts/tech/kubernetes/kubernetesnamespace/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.ddb3ce53f79f05de71d690031b572b6066753a2375de82c18ef290d92427fea4.css" integrity="sha256-3bPOU/efBd5x1pADG1crYGZ1OiN13oLBjvKQ2SQn/qQ=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
        onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://deemoprobe.github.io/img/bear.gif">
<link rel="icon" type="image/png" sizes="16x16" href="https://deemoprobe.github.io/img/bear.gif">
<link rel="icon" type="image/png" sizes="32x32" href="https://deemoprobe.github.io/img/bear.gif">
<link rel="apple-touch-icon" href="https://deemoprobe.github.io/img/bear.gif">
<link rel="mask-icon" href="https://deemoprobe.github.io/img/bear.gif">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script defer src="https://unpkg.com/mermaid@8.8.1/dist/mermaid.min.js"></script>


<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script src="https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js"></script>


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = ""; 
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<meta property="og:title" content="KubernetesNamespace" />
<meta property="og:description" content="Kubernetes Namespace" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://deemoprobe.github.io/posts/tech/kubernetes/kubernetesnamespace/" />
<meta property="og:image" content="https://deemoprobe.github.io/img/kubernetes.png" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-29T14:21:17+08:00" />
<meta property="article:modified_time" content="2023-04-29T14:21:17+08:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://deemoprobe.github.io/img/kubernetes.png" />
<meta name="twitter:title" content="KubernetesNamespace"/>
<meta name="twitter:description" content="Kubernetes Namespace"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [

        {
          "@type": "ListItem",
          "position":  1 ,
          "name": "ğŸ“šæ–‡ç« ",
          "item": "https://deemoprobe.github.io/posts/"
        },

        {
          "@type": "ListItem",
          "position":  2 ,
          "name": "ğŸ‘¨ğŸ»â€ğŸ’» æŠ€æœ¯",
          "item": "https://deemoprobe.github.io/posts/tech/"
        },

        {
          "@type": "ListItem",
          "position":  3 ,
          "name": "Kubernetes",
          "item": "https://deemoprobe.github.io/posts/tech/kubernetes/"
        }, 
    {
      "@type": "ListItem",
      "position":  4 ,
      "name": "KubernetesNamespace",
      "item": "https://deemoprobe.github.io/posts/tech/kubernetes/kubernetesnamespace/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "KubernetesNamespace",
  "name": "KubernetesNamespace",
  "description": "Kubernetes Namespace",
  "keywords": [
    ""
  ],
  "articleBody": "ç®€ä»‹ Kubernetesæ”¯æŒå¤šä¸ªè™šæ‹Ÿé›†ç¾¤ï¼Œè¿™äº›è™šæ‹Ÿé›†ç¾¤ä¾èµ–äºåŒä¸€ä¸ªç‰©ç†é›†ç¾¤ï¼Œè¿™äº›è™šæ‹Ÿé›†ç¾¤å°±å¯ä»¥ç§°ä½œnamespaceï¼ˆä¸­æ–‡ä¹ æƒ¯ç§°ä¸º\"åç§°ç©ºé—´\"æˆ–\"å‘½åç©ºé—´\", ä¸ªäººè§‰å¾—ç†è§£æˆ\"ä½œç”¨åŸŸ\"æ›´ä¸ºåˆç†ä¸€äº›ï¼‰\nNamespaceæœ‰èµ„æºéš”ç¦»çš„ä½œç”¨ï¼Œç±»ä¼¼Linuxç³»ç»Ÿçš„å¤šç”¨æˆ·çš„æ¦‚å¿µï¼ˆåŒä¸€ç‰©ç†ç¯å¢ƒ,å¯ä»¥ä¸ºå¤šç”¨æˆ·åˆ’åˆ†å¤šä¸ªç›¸äº’éš”ç¦»çš„æ“ä½œç©ºé—´ï¼‰\nNamespaceåœ¨å¤šç”¨æˆ·ä¹‹é—´é€šè¿‡èµ„æºé…é¢ï¼ˆresource-quotasï¼‰è¿›è¡Œé›†ç¾¤èµ„æºçš„åˆ’åˆ†\nä½¿ç”¨Namespace # ä½äºnamespaceä½œç”¨åŸŸä¸­çš„èµ„æº [root@k8s-master01 ~]# kubectl api-resources --namespaced NAME SHORTNAMES APIVERSION NAMESPACED KIND bindings v1 true Binding configmaps cm v1 true ConfigMap endpoints ep v1 true Endpoints events ev v1 true Event limitranges limits v1 true LimitRange persistentvolumeclaims pvc v1 true PersistentVolumeClaim pods po v1 true Pod podtemplates v1 true PodTemplate replicationcontrollers rc v1 true ReplicationController resourcequotas quota v1 true ResourceQuota secrets v1 true Secret serviceaccounts sa v1 true ServiceAccount services svc v1 true Service controllerrevisions apps/v1 true ControllerRevision daemonsets ds apps/v1 true DaemonSet deployments deploy apps/v1 true Deployment replicasets rs apps/v1 true ReplicaSet statefulsets sts apps/v1 true StatefulSet localsubjectaccessreviews authorization.k8s.io/v1 true LocalSubjectAccessReview horizontalpodautoscalers hpa autoscaling/v2 true HorizontalPodAutoscaler cronjobs cj batch/v1 true CronJob jobs batch/v1 true Job leases coordination.k8s.io/v1 true Lease networkpolicies crd.projectcalico.org/v1 true NetworkPolicy networksets crd.projectcalico.org/v1 true NetworkSet endpointslices discovery.k8s.io/v1 true EndpointSlice events ev events.k8s.io/v1 true Event pods metrics.k8s.io/v1beta1 true PodMetrics ingresses ing networking.k8s.io/v1 true Ingress networkpolicies netpol networking.k8s.io/v1 true NetworkPolicy poddisruptionbudgets pdb policy/v1 true PodDisruptionBudget rolebindings rbac.authorization.k8s.io/v1 true RoleBinding roles rbac.authorization.k8s.io/v1 true Role csistoragecapacities storage.k8s.io/v1 true CSIStorageCapacity # ä¸è¢«namespaceé™åˆ¶çš„èµ„æº [root@k8s-master01 ~]# kubectl api-resources --namespaced=false NAME SHORTNAMES APIVERSION NAMESPACED KIND componentstatuses cs v1 false ComponentStatus namespaces ns v1 false Namespace nodes no v1 false Node persistentvolumes pv v1 false PersistentVolume mutatingwebhookconfigurations admissionregistration.k8s.io/v1 false MutatingWebhookConfiguration validatingwebhookconfigurations admissionregistration.k8s.io/v1 false ValidatingWebhookConfiguration customresourcedefinitions crd,crds apiextensions.k8s.io/v1 false CustomResourceDefinition apiservices apiregistration.k8s.io/v1 false APIService tokenreviews authentication.k8s.io/v1 false TokenReview selfsubjectaccessreviews authorization.k8s.io/v1 false SelfSubjectAccessReview selfsubjectrulesreviews authorization.k8s.io/v1 false SelfSubjectRulesReview subjectaccessreviews authorization.k8s.io/v1 false SubjectAccessReview certificatesigningrequests csr certificates.k8s.io/v1 false CertificateSigningRequest bgpconfigurations crd.projectcalico.org/v1 false BGPConfiguration bgppeers crd.projectcalico.org/v1 false BGPPeer blockaffinities crd.projectcalico.org/v1 false BlockAffinity caliconodestatuses crd.projectcalico.org/v1 false CalicoNodeStatus clusterinformations crd.projectcalico.org/v1 false ClusterInformation felixconfigurations crd.projectcalico.org/v1 false FelixConfiguration globalnetworkpolicies crd.projectcalico.org/v1 false GlobalNetworkPolicy globalnetworksets crd.projectcalico.org/v1 false GlobalNetworkSet hostendpoints crd.projectcalico.org/v1 false HostEndpoint ipamblocks crd.projectcalico.org/v1 false IPAMBlock ipamconfigs crd.projectcalico.org/v1 false IPAMConfig ipamhandles crd.projectcalico.org/v1 false IPAMHandle ippools crd.projectcalico.org/v1 false IPPool ipreservations crd.projectcalico.org/v1 false IPReservation kubecontrollersconfigurations crd.projectcalico.org/v1 false KubeControllersConfiguration flowschemas flowcontrol.apiserver.k8s.io/v1beta3 false FlowSchema prioritylevelconfigurations flowcontrol.apiserver.k8s.io/v1beta3 false PriorityLevelConfiguration nodes metrics.k8s.io/v1beta1 false NodeMetrics ingressclasses networking.k8s.io/v1 false IngressClass runtimeclasses node.k8s.io/v1 false RuntimeClass clusterrolebindings rbac.authorization.k8s.io/v1 false ClusterRoleBinding clusterroles rbac.authorization.k8s.io/v1 false ClusterRole priorityclasses pc scheduling.k8s.io/v1 false PriorityClass csidrivers storage.k8s.io/v1 false CSIDriver csinodes storage.k8s.io/v1 false CSINode storageclasses sc storage.k8s.io/v1 false StorageClass volumeattachments storage.k8s.io/v1 false VolumeAttachment æŸ¥çœ‹Namespace [root@k8s-master01 ~]# kubectl explain namespace | egrep -v \"^\\s*https|^$\" | sed s/\"More info:\"// KIND: Namespace VERSION: v1 DESCRIPTION: Namespace provides a scope for Names. Use of multiple namespaces is optional. FIELDS: apiVersion APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. kind Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. metadata Standard object's metadata. spec Spec defines the behavior of the Namespace. status Status describes the current status of a Namespace. # namespaceå¯ç®€å†™ä¸ºns [root@k8s-master01 ~]# kubectl get ns --show-kind --show-labels NAME STATUS AGE LABELS namespace/default Active 7d kubernetes.io/metadata.name=default namespace/kube-node-lease Active 7d kubernetes.io/metadata.name=kube-node-lease namespace/kube-public Active 7d kubernetes.io/metadata.name=kube-public namespace/kube-system Active 7d kubernetes.io/metadata.name=kube-system åˆå§‹çŠ¶æ€ä¸‹ï¼ŒKuberneteså…·æœ‰å››ä¸ªnamespaceï¼š\ndefaultï¼šé»˜è®¤çš„namespaceï¼Œé»˜è®¤ç”¨æˆ·åˆ›å»ºçš„èµ„æºéƒ½æ˜¯åœ¨è¿™ä¸ªnamespaceä¸‹ kube-node-leaseï¼šè¯¥namespaceç”¨äºä¸å„ä¸ªèŠ‚ç‚¹ç›¸å…³çš„ç§Ÿçº¦ï¼ˆLeaseï¼‰å¯¹è±¡ï¼›èŠ‚ç‚¹ç§ŸæœŸå…è®¸kubeletå‘é€å¿ƒè·³ï¼Œç”±æ­¤æ§åˆ¶é¢èƒ½å¤Ÿæ£€æµ‹åˆ°èŠ‚ç‚¹æ•…éšœ kube-publicï¼šè‡ªåŠ¨åˆ›å»ºä¸”æ‰€æœ‰ç”¨æˆ·å¯è¯»çš„namespaceï¼ˆåŒ…æ‹¬æœªç»èº«ä»½è®¤è¯çš„ï¼‰ kube-systemï¼šKubernetesç³»ç»Ÿåˆ›å»ºçš„å¯¹è±¡æ‰€åœ¨çš„namespace # åˆ—å‡ºç‰¹å®šçš„ns [root@k8s-master01 ~]# kubectl get ns kube-public NAME STATUS AGE kube-public Active 7d # è·å–ç‰¹å®šçš„nsçš„æè¿°ä¿¡æ¯ [root@k8s-master01 ~]# kubectl describe ns kube-public Name: kube-public Labels: kubernetes.io/metadata.name=kube-public Annotations: Status: Active No resource quota. No LimitRange resource. # å¦‚æœé…ç½®äº†èµ„æºé…é¢ï¼Œå¯æŸ¥çœ‹ç±»ä¼¼ä¸‹é¢ä¿¡æ¯ [root@k8s-master01 ~]# kubectl describe ns quotatest Name: quotatest Labels: kubernetes.io/metadata.name=quotatest Annotations: Status: Active Resource Quotas Name: resource-test Resource Used Hard -------- --- --- pods 1 1 Resource Limits Type Resource Min Max Default Request Default Limit Max Limit/Request Ratio ---- -------- --- --- --------------- ------------- ----------------------- Container cpu 100m 1 500m 1 - Container memory 100Mi 1Gi 256Mi 512Mi - PersistentVolumeClaim storage 1Gi 2Gi - - - åˆ›å»ºå’Œåˆ é™¤ è¯´æ˜ï¼šé¿å…ä½¿ç”¨å‰ç¼€kube-åˆ›å»ºæ–°çš„namespaceï¼Œå› ä¸ºå®ƒæ˜¯ä¸ºKubernetesç³»ç»Ÿnamespaceä¿ç•™çš„ã€‚\nNamespaceå‘½åè§„åˆ™:\næœ€å¤š63ä¸ªå­—ç¬¦ åªèƒ½åŒ…å«å­—æ¯æ•°å­—,ä»¥åŠâ€™-' é¡»ä»¥å­—æ¯æˆ–æ•°å­—å¼€å¤´ é¡»ä»¥å­—æ¯æˆ–æ•°å­—ç»“å°¾ # 1. yamlæ–‡ä»¶æ–¹å¼åˆ›å»º [root@k8s-master01 ~]# vim new_namespace_deemoprobe.yaml apiVersion: v1 kind: Namespace metadata: name: deemoprobe annotations: type: create by yaml [root@k8s-master01 ~]# kubectl apply -f new_namespace_deemoprobe.yaml namespace/deemoprobe created [root@k8s-master01 ~]# kubectl get ns deemoprobe --show-labels --show-kind NAME STATUS AGE LABELS namespace/deemoprobe Active 36s kubernetes.io/metadata.name=deemoprobe # 2. å‘½ä»¤åˆ›å»º [root@k8s-master01 ~]# kubectl create ns deemoprobe2 namespace/deemoprobe2 created [root@k8s-master01 ~]# kubectl get ns deemoprobe2 --show-labels --show-kind NAME STATUS AGE LABELS namespace/deemoprobe2 Active 12s kubernetes.io/metadata.name=deemoprobe2 # åˆ é™¤namespace=deemoprobe2 [root@k8s-master01 ~]# kubectl delete ns deemoprobe2 namespace \"deemoprobe2\" deleted [root@k8s-master01 ~]# kubectl get ns deemoprobe2 --show-labels --show-kind Error from server (NotFound): namespaces \"deemoprobe2\" not found # æŒ‡å®šnamespaceæ“ä½œå…¶ä»–åœ¨namespaceä½œç”¨åŸŸä¸­çš„èµ„æºï¼Œå¦‚kubectl get pods --namespace=deemoprobe # ç®€å†™ -n deemoprobe [root@k8s-master01 ~]# kubectl get configmap -n deemoprobe NAME DATA AGE kube-root-ca.crt 1 3m33s åˆ‡æ¢é»˜è®¤namespace # æŸ¥çœ‹å½“å‰æ‰€åœ¨namespaceï¼Œæ–°é›†ç¾¤å¦‚æœæŸ¥ä¸åˆ°ï¼Œå°±æ˜¯default [root@k8s-master01 ~]# kubectl config view | grep namespace: # è®¾ç½®å½“å‰namespaceä¸Šä¸‹æ–‡ï¼Œä½¿å¾—ç›¸åº”namespaceæˆä¸ºé»˜è®¤å€¼ [root@k8s-master01 ~]# kubectl config set-context --current --namespace deemoprobe Context \"kubernetes-admin@kubernetes\" modified. [root@k8s-master01 ~]# kubectl config view | grep namespace: namespace: deemoprobe # å›åˆ‡ [root@k8s-master01 ~]# kubectl config set-context --current --namespace default Context \"kubernetes-admin@kubernetes\" modified. [root@k8s-master01 ~]# kubectl config view | grep namespace: namespace: default namespaceå·¥å…· å®‰è£…namespaceç®¡ç†å·¥å…·ï¼ˆkubensï¼‰æ›´å¿«æ·åœ°ç®¡ç†namespace\n[root@k8s-master01 ~]# curl -L https://github.com/ahmetb/kubectx/releases/download/v0.9.4/kubens -o /bin/kubens % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 643 100 643 0 0 163 0 0:00:03 0:00:03 --:--:-- 163 100 5555 100 5555 0 0 638 0 0:00:08 0:00:08 --:--:-- 1704 [root@k8s-master01 ~]# chmod +x /bin/kubens [root@k8s-master01 ~]# kubens -h USAGE: kubens : list the namespaces in the current context kubens : change the active namespace of current context kubens - : switch to the previous namespace in this context kubens -c, --current : show the current namespace kubens -h,--help : show this message # åˆ—å‡ºæ‰€æœ‰namespaceï¼Œ [root@k8s-master01 ~]# kubens deemoprobe default kube-node-lease kube-public kube-system # æŸ¥çœ‹å½“å‰namespace [root@k8s-master01 ~]# kubens -c default # åˆ‡æ¢ä¸ºdeemoprobe [root@k8s-master01 ~]# kubens deemoprobe Context \"kubernetes-admin@kubernetes\" modified. Active namespace is \"deemoprobe\". [root@k8s-master01 ~]# kubens -c deemoprobe # åˆ‡æ¢ä¸ºä¸Šä¸€ä¸ªnamespace [root@k8s-master01 ~]# kubens - Context \"kubernetes-admin@kubernetes\" modified. Active namespace is \"default\". [root@k8s-master01 ~]# kubens -c default ä½¿ç”¨åœºæ™¯ æ¯”å¦‚ï¼šæˆ‘ä»¬éœ€è¦\"æµ‹è¯•\"-â€œå¼€å‘â€-â€œç”Ÿäº§\"è¿™å‡ ä¸ªç¯å¢ƒï¼Œå¯ä»¥åˆ’åˆ†ä¸‰ä¸ªNamespaceè¿›è¡Œæ“ä½œï¼Œä¸ºåç»­èµ„æºé…é¢å‡†å¤‡åŸºç¡€ç¯å¢ƒã€‚\n[root@k8s-master01 ~]# vi namespace.yaml --- apiVersion: v1 kind: Namespace metadata: name: test labels: name: test --- apiVersion: v1 kind: Namespace metadata: name: dev labels: name: dev --- apiVersion: v1 kind: Namespace metadata: name: prod labels: name: prod [root@k8s-master01 ~]# kubectl apply -f namespace.yaml namespace/test created namespace/dev created namespace/prod created [root@k8s-master01 ~]# kubectl get ns --show-labels NAME STATUS AGE LABELS dev Active 64s name=dev prod Active 64s name=prod test Active 65s name=test ... # å…¨æ–°çš„Namespace, æœªè®¾ç½®ä»»ä½•èµ„æºé…é¢å’Œé™åˆ¶ [root@k8s-master01 ~]# kubectl describe ns test Name: test Labels: name=test Annotations: Status: Active No resource quota. No LimitRange resource. [root@k8s-master01 ~]# kubectl describe ns dev Name: dev Labels: name=dev Annotations: Status: Active No resource quota. No LimitRange resource. [root@k8s-master01 ~]# kubectl describe ns prod Name: prod Labels: name=prod Annotations: Status: Active No resource quota. No LimitRange resource. ",
  "wordCount" : "2142",
  "inLanguage": "en",
  "image":"https://deemoprobe.github.io/img/kubernetes.png","datePublished": "2023-04-29T14:21:17+08:00",
  "dateModified": "2023-04-29T14:21:17+08:00",
  "author":[{
    "@type": "Person",
    "name": "deemoprobe"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://deemoprobe.github.io/posts/tech/kubernetes/kubernetesnamespace/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "William's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://deemoprobe.github.io/img/bear.gif"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    (function () {
        let  arr,reg = new RegExp("(^| )"+"change-themes"+"=([^;]*)(;|$)");
        if(arr = document.cookie.match(reg)) {
        } else {
            if (new Date().getHours() >= 19 || new Date().getHours() < 6) {
                document.body.classList.add('dark');
                localStorage.setItem("pref-theme", 'dark');
            } else {
                document.body.classList.remove('dark');
                localStorage.setItem("pref-theme", 'light');
            }
        }
    })()

    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://deemoprobe.github.io/" accesskey="h" title="William&#39;s Blog (Alt + H)">
            <img src="https://deemoprobe.github.io/img/bear.gif" alt="logo" aria-label="logo"
                 height="35">William&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                         stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                         stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://deemoprobe.github.io/" title="ğŸ  ä¸»é¡µ">
                <span>ğŸ  ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://deemoprobe.github.io/tags" title="ğŸ¨ æ ‡ç­¾">
                <span>ğŸ¨ æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://deemoprobe.github.io/archives/" title="ğŸ“ˆ å½’æ¡£">
                <span>ğŸ“ˆ å½’æ¡£</span>
                </a>
            </li>
            <li>
                <a href="https://deemoprobe.github.io/tools" title="ğŸª å·¥å…·">
                <span>ğŸª å·¥å…·</span>
                </a>
            </li>
            <li>
                <a href="https://deemoprobe.github.io/search" title="ğŸ” æœç´¢ (Alt &#43; /)" accesskey=/>
                <span>ğŸ” æœç´¢</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main page">
<style>
    i[id*="post_meta_style"] {
        display: flex;
        align-items: center;
        margin: 0 0 10px 0;
    }
</style>

<article class="post-single">
    <div id="single-content">
        <header class="post-header">
            
            <h1 class="post-title">
                KubernetesNamespace
            </h1>
            <div class="post-description">
                Kubernetes Namespace
            </div>
            <div class="post-meta">

<style>
    i[id*="post_meta_style"] {
        display: flex;
        align-items: center;
        margin: 0 0 10px 0;
    }

    .parent-post-meta {
        display: flex;
        flex-wrap: wrap;
        opacity: 0.8;
    }
</style>

<span class="parent-post-meta">
    <span id="post_meta_style_1">
        <span class="fa fa-calendar-check-o"></span>
        <span>2023-04-29
            &nbsp;&nbsp;
        </span>
    </span>
    
    
    
    
    
    
    
    <span id="post_meta_style_3">
        <span class="fa fa-file-word-o"></span>
        <span>2142å­—
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_4">
        <span class="fa fa-clock-o"></span>
        <span>5åˆ†é’Ÿ
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_5">
        <span class="fa fa-user-o"></span>
        <span>deemoprobe
            &nbsp;&nbsp;
        </span>
    </span>
    <span id="post_meta_style_6">
        <span class="fa fa-tags" style="opacity: 0.8"></span>
        <span>
            <span class="post-tags-meta">
                <a href="https://deemoprobe.github.io/tags/kubernetes/" style="color: var(--secondary)!important;">kubernetes</a>
            </span>
        </span>
    </span>
</span>
<span style="opacity: 0.8;">
                    <span id="post_meta_style_7">
                        &nbsp;&nbsp;
                        <span class="fa fa-eye" ></span>
                        <span>
                            <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv"></span></span>
                            &nbsp;&nbsp;
                        </span>
                    </span>
                    
                </span>

</div>
        </header> 
<figure class="entry-cover1"><img style="zoom:;" loading="lazy" src="https://deemoprobe.github.io/img/kubernetes.png" alt="">
    
</figure><aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">æ–‡ç« ç›®å½•</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e7%ae%80%e4%bb%8b" aria-label="ç®€ä»‹">ç®€ä»‹</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8namespace" aria-label="ä½¿ç”¨Namespace">ä½¿ç”¨Namespace</a><ul>
                        
                <li>
                    <a href="#%e6%9f%a5%e7%9c%8bnamespace" aria-label="æŸ¥çœ‹Namespace">æŸ¥çœ‹Namespace</a></li>
                <li>
                    <a href="#%e5%88%9b%e5%bb%ba%e5%92%8c%e5%88%a0%e9%99%a4" aria-label="åˆ›å»ºå’Œåˆ é™¤">åˆ›å»ºå’Œåˆ é™¤</a></li>
                <li>
                    <a href="#%e5%88%87%e6%8d%a2%e9%bb%98%e8%ae%a4namespace" aria-label="åˆ‡æ¢é»˜è®¤namespace">åˆ‡æ¢é»˜è®¤namespace</a></li>
                <li>
                    <a href="#namespace%e5%b7%a5%e5%85%b7" aria-label="namespaceå·¥å…·">namespaceå·¥å…·</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e5%9c%ba%e6%99%af" aria-label="ä½¿ç”¨åœºæ™¯">ä½¿ç”¨åœºæ™¯</a>
                </li>
            </ul>
        </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
        
        activeElement = elements[0];
        const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
        document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
    }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 &&
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
            const id = encodeURI(element.getAttribute('id')).toLowerCase();
            if (element === activeElement){
                document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
            } else {
                document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
            }
        })
    }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;
        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;
    }
</script>
        <div class="post-content"><h2 id="ç®€ä»‹">ç®€ä»‹<a hidden class="anchor" aria-hidden="true" href="#ç®€ä»‹">#</a></h2>
<p>Kubernetesæ”¯æŒå¤šä¸ªè™šæ‹Ÿé›†ç¾¤ï¼Œè¿™äº›è™šæ‹Ÿé›†ç¾¤ä¾èµ–äºåŒä¸€ä¸ªç‰©ç†é›†ç¾¤ï¼Œè¿™äº›è™šæ‹Ÿé›†ç¾¤å°±å¯ä»¥ç§°ä½œ<code>namespace</code>ï¼ˆä¸­æ–‡ä¹ æƒ¯ç§°ä¸º&quot;åç§°ç©ºé—´&quot;æˆ–&quot;å‘½åç©ºé—´&quot;, ä¸ªäººè§‰å¾—ç†è§£æˆ&quot;ä½œç”¨åŸŸ&quot;æ›´ä¸ºåˆç†ä¸€äº›ï¼‰</p>
<p>Namespaceæœ‰èµ„æºéš”ç¦»çš„ä½œç”¨ï¼Œç±»ä¼¼Linuxç³»ç»Ÿçš„<code>å¤šç”¨æˆ·</code>çš„æ¦‚å¿µï¼ˆåŒä¸€ç‰©ç†ç¯å¢ƒ,å¯ä»¥ä¸ºå¤šç”¨æˆ·åˆ’åˆ†å¤šä¸ªç›¸äº’éš”ç¦»çš„æ“ä½œç©ºé—´ï¼‰</p>
<p>Namespaceåœ¨å¤šç”¨æˆ·ä¹‹é—´é€šè¿‡<code>èµ„æºé…é¢ï¼ˆresource-quotasï¼‰</code>è¿›è¡Œé›†ç¾¤èµ„æºçš„åˆ’åˆ†</p>
<h2 id="ä½¿ç”¨namespace">ä½¿ç”¨Namespace<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨namespace">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># ä½äºnamespaceä½œç”¨åŸŸä¸­çš„èµ„æº</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl api-resources --namespaced</span>
</span></span><span style="display:flex;"><span>NAME                        SHORTNAMES   APIVERSION                     NAMESPACED   KIND
</span></span><span style="display:flex;"><span>bindings                                 v1                             true         Binding
</span></span><span style="display:flex;"><span>configmaps                  cm           v1                             true         ConfigMap
</span></span><span style="display:flex;"><span>endpoints                   ep           v1                             true         Endpoints
</span></span><span style="display:flex;"><span>events                      ev           v1                             true         Event
</span></span><span style="display:flex;"><span>limitranges                 limits       v1                             true         LimitRange
</span></span><span style="display:flex;"><span>persistentvolumeclaims      pvc          v1                             true         PersistentVolumeClaim
</span></span><span style="display:flex;"><span>pods                        po           v1                             true         Pod
</span></span><span style="display:flex;"><span>podtemplates                             v1                             true         PodTemplate
</span></span><span style="display:flex;"><span>replicationcontrollers      rc           v1                             true         ReplicationController
</span></span><span style="display:flex;"><span>resourcequotas              quota        v1                             true         ResourceQuota
</span></span><span style="display:flex;"><span>secrets                                  v1                             true         Secret
</span></span><span style="display:flex;"><span>serviceaccounts             sa           v1                             true         ServiceAccount
</span></span><span style="display:flex;"><span>services                    svc          v1                             true         Service
</span></span><span style="display:flex;"><span>controllerrevisions                      apps/v1                        true         ControllerRevision
</span></span><span style="display:flex;"><span>daemonsets                  ds           apps/v1                        true         DaemonSet
</span></span><span style="display:flex;"><span>deployments                 deploy       apps/v1                        true         Deployment
</span></span><span style="display:flex;"><span>replicasets                 rs           apps/v1                        true         ReplicaSet
</span></span><span style="display:flex;"><span>statefulsets                sts          apps/v1                        true         StatefulSet
</span></span><span style="display:flex;"><span>localsubjectaccessreviews                authorization.k8s.io/v1        true         LocalSubjectAccessReview
</span></span><span style="display:flex;"><span>horizontalpodautoscalers    hpa          autoscaling/v2                 true         HorizontalPodAutoscaler
</span></span><span style="display:flex;"><span>cronjobs                    cj           batch/v1                       true         CronJob
</span></span><span style="display:flex;"><span>jobs                                     batch/v1                       true         Job
</span></span><span style="display:flex;"><span>leases                                   coordination.k8s.io/v1         true         Lease
</span></span><span style="display:flex;"><span>networkpolicies                          crd.projectcalico.org/v1       true         NetworkPolicy
</span></span><span style="display:flex;"><span>networksets                              crd.projectcalico.org/v1       true         NetworkSet
</span></span><span style="display:flex;"><span>endpointslices                           discovery.k8s.io/v1            true         EndpointSlice
</span></span><span style="display:flex;"><span>events                      ev           events.k8s.io/v1               true         Event
</span></span><span style="display:flex;"><span>pods                                     metrics.k8s.io/v1beta1         true         PodMetrics
</span></span><span style="display:flex;"><span>ingresses                   ing          networking.k8s.io/v1           true         Ingress
</span></span><span style="display:flex;"><span>networkpolicies             netpol       networking.k8s.io/v1           true         NetworkPolicy
</span></span><span style="display:flex;"><span>poddisruptionbudgets        pdb          policy/v1                      true         PodDisruptionBudget
</span></span><span style="display:flex;"><span>rolebindings                             rbac.authorization.k8s.io/v1   true         RoleBinding
</span></span><span style="display:flex;"><span>roles                                    rbac.authorization.k8s.io/v1   true         Role
</span></span><span style="display:flex;"><span>csistoragecapacities                     storage.k8s.io/v1              true         CSIStorageCapacity
</span></span></code></pre></div><p><img loading="lazy" src="https://deemoprobe.oss-cn-shanghai.aliyuncs.com/images/20220313143057.png" alt="1"  />
</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># ä¸è¢«namespaceé™åˆ¶çš„èµ„æº</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl api-resources --namespaced=false</span>
</span></span><span style="display:flex;"><span>NAME                              SHORTNAMES   APIVERSION                             NAMESPACED   KIND
</span></span><span style="display:flex;"><span>componentstatuses                 cs           v1                                     false        ComponentStatus
</span></span><span style="display:flex;"><span>namespaces                        ns           v1                                     false        Namespace
</span></span><span style="display:flex;"><span>nodes                             no           v1                                     false        Node
</span></span><span style="display:flex;"><span>persistentvolumes                 pv           v1                                     false        PersistentVolume
</span></span><span style="display:flex;"><span>mutatingwebhookconfigurations                  admissionregistration.k8s.io/v1        false        MutatingWebhookConfiguration
</span></span><span style="display:flex;"><span>validatingwebhookconfigurations                admissionregistration.k8s.io/v1        false        ValidatingWebhookConfiguration
</span></span><span style="display:flex;"><span>customresourcedefinitions         crd,crds     apiextensions.k8s.io/v1                false        CustomResourceDefinition
</span></span><span style="display:flex;"><span>apiservices                                    apiregistration.k8s.io/v1              false        APIService
</span></span><span style="display:flex;"><span>tokenreviews                                   authentication.k8s.io/v1               false        TokenReview
</span></span><span style="display:flex;"><span>selfsubjectaccessreviews                       authorization.k8s.io/v1                false        SelfSubjectAccessReview
</span></span><span style="display:flex;"><span>selfsubjectrulesreviews                        authorization.k8s.io/v1                false        SelfSubjectRulesReview
</span></span><span style="display:flex;"><span>subjectaccessreviews                           authorization.k8s.io/v1                false        SubjectAccessReview
</span></span><span style="display:flex;"><span>certificatesigningrequests        csr          certificates.k8s.io/v1                 false        CertificateSigningRequest
</span></span><span style="display:flex;"><span>bgpconfigurations                              crd.projectcalico.org/v1               false        BGPConfiguration
</span></span><span style="display:flex;"><span>bgppeers                                       crd.projectcalico.org/v1               false        BGPPeer
</span></span><span style="display:flex;"><span>blockaffinities                                crd.projectcalico.org/v1               false        BlockAffinity
</span></span><span style="display:flex;"><span>caliconodestatuses                             crd.projectcalico.org/v1               false        CalicoNodeStatus
</span></span><span style="display:flex;"><span>clusterinformations                            crd.projectcalico.org/v1               false        ClusterInformation
</span></span><span style="display:flex;"><span>felixconfigurations                            crd.projectcalico.org/v1               false        FelixConfiguration
</span></span><span style="display:flex;"><span>globalnetworkpolicies                          crd.projectcalico.org/v1               false        GlobalNetworkPolicy
</span></span><span style="display:flex;"><span>globalnetworksets                              crd.projectcalico.org/v1               false        GlobalNetworkSet
</span></span><span style="display:flex;"><span>hostendpoints                                  crd.projectcalico.org/v1               false        HostEndpoint
</span></span><span style="display:flex;"><span>ipamblocks                                     crd.projectcalico.org/v1               false        IPAMBlock
</span></span><span style="display:flex;"><span>ipamconfigs                                    crd.projectcalico.org/v1               false        IPAMConfig
</span></span><span style="display:flex;"><span>ipamhandles                                    crd.projectcalico.org/v1               false        IPAMHandle
</span></span><span style="display:flex;"><span>ippools                                        crd.projectcalico.org/v1               false        IPPool
</span></span><span style="display:flex;"><span>ipreservations                                 crd.projectcalico.org/v1               false        IPReservation
</span></span><span style="display:flex;"><span>kubecontrollersconfigurations                  crd.projectcalico.org/v1               false        KubeControllersConfiguration
</span></span><span style="display:flex;"><span>flowschemas                                    flowcontrol.apiserver.k8s.io/v1beta3   false        FlowSchema
</span></span><span style="display:flex;"><span>prioritylevelconfigurations                    flowcontrol.apiserver.k8s.io/v1beta3   false        PriorityLevelConfiguration
</span></span><span style="display:flex;"><span>nodes                                          metrics.k8s.io/v1beta1                 false        NodeMetrics
</span></span><span style="display:flex;"><span>ingressclasses                                 networking.k8s.io/v1                   false        IngressClass
</span></span><span style="display:flex;"><span>runtimeclasses                                 node.k8s.io/v1                         false        RuntimeClass
</span></span><span style="display:flex;"><span>clusterrolebindings                            rbac.authorization.k8s.io/v1           false        ClusterRoleBinding
</span></span><span style="display:flex;"><span>clusterroles                                   rbac.authorization.k8s.io/v1           false        ClusterRole
</span></span><span style="display:flex;"><span>priorityclasses                   pc           scheduling.k8s.io/v1                   false        PriorityClass
</span></span><span style="display:flex;"><span>csidrivers                                     storage.k8s.io/v1                      false        CSIDriver
</span></span><span style="display:flex;"><span>csinodes                                       storage.k8s.io/v1                      false        CSINode
</span></span><span style="display:flex;"><span>storageclasses                    sc           storage.k8s.io/v1                      false        StorageClass
</span></span><span style="display:flex;"><span>volumeattachments                              storage.k8s.io/v1                      false        VolumeAttachment
</span></span></code></pre></div><p><img loading="lazy" src="https://deemoprobe.oss-cn-shanghai.aliyuncs.com/images/20220313143135.png" alt="2"  />
</p>
<h3 id="æŸ¥çœ‹namespace">æŸ¥çœ‹Namespace<a hidden class="anchor" aria-hidden="true" href="#æŸ¥çœ‹namespace">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl explain namespace | egrep -v &#34;^\s*https|^$&#34; | sed s/&#34;More info:&#34;//</span>
</span></span><span style="display:flex;"><span>KIND:     Namespace
</span></span><span style="display:flex;"><span>VERSION:  v1
</span></span><span style="display:flex;"><span>DESCRIPTION:
</span></span><span style="display:flex;"><span>     Namespace provides a scope <span style="color:#66d9ef">for</span> Names. Use of multiple namespaces is
</span></span><span style="display:flex;"><span>     optional.
</span></span><span style="display:flex;"><span>FIELDS:
</span></span><span style="display:flex;"><span>   apiVersion   &lt;string&gt;
</span></span><span style="display:flex;"><span>     APIVersion defines the versioned schema of this representation of an
</span></span><span style="display:flex;"><span>     object. Servers should convert recognized schemas to the latest internal
</span></span><span style="display:flex;"><span>     value, and may reject unrecognized values.
</span></span><span style="display:flex;"><span>   kind &lt;string&gt;
</span></span><span style="display:flex;"><span>     Kind is a string value representing the REST resource this object
</span></span><span style="display:flex;"><span>     represents. Servers may infer this from the endpoint the client submits
</span></span><span style="display:flex;"><span>     requests to. Cannot be updated. In CamelCase.
</span></span><span style="display:flex;"><span>   metadata     &lt;Object&gt;
</span></span><span style="display:flex;"><span>     Standard object<span style="color:#960050;background-color:#1e0010">&#39;</span>s metadata.
</span></span><span style="display:flex;"><span>   spec &lt;Object&gt;
</span></span><span style="display:flex;"><span>     Spec defines the behavior of the Namespace.
</span></span><span style="display:flex;"><span>   status       &lt;Object&gt;
</span></span><span style="display:flex;"><span>     Status describes the current status of a Namespace.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># namespaceå¯ç®€å†™ä¸ºns</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl get ns --show-kind --show-labels </span>
</span></span><span style="display:flex;"><span>NAME                             STATUS   AGE     LABELS
</span></span><span style="display:flex;"><span>namespace/default                Active   7d      kubernetes.io/metadata.name<span style="color:#f92672">=</span>default
</span></span><span style="display:flex;"><span>namespace/kube-node-lease        Active   7d      kubernetes.io/metadata.name<span style="color:#f92672">=</span>kube-node-lease
</span></span><span style="display:flex;"><span>namespace/kube-public            Active   7d      kubernetes.io/metadata.name<span style="color:#f92672">=</span>kube-public
</span></span><span style="display:flex;"><span>namespace/kube-system            Active   7d      kubernetes.io/metadata.name<span style="color:#f92672">=</span>kube-system
</span></span></code></pre></div><p>åˆå§‹çŠ¶æ€ä¸‹ï¼ŒKuberneteså…·æœ‰å››ä¸ªnamespaceï¼š</p>
<ul>
<li>defaultï¼šé»˜è®¤çš„namespaceï¼Œé»˜è®¤ç”¨æˆ·åˆ›å»ºçš„èµ„æºéƒ½æ˜¯åœ¨è¿™ä¸ªnamespaceä¸‹</li>
<li>kube-node-leaseï¼šè¯¥namespaceç”¨äºä¸å„ä¸ªèŠ‚ç‚¹ç›¸å…³çš„ç§Ÿçº¦ï¼ˆLeaseï¼‰å¯¹è±¡ï¼›èŠ‚ç‚¹ç§ŸæœŸå…è®¸kubeletå‘é€å¿ƒè·³ï¼Œç”±æ­¤æ§åˆ¶é¢èƒ½å¤Ÿæ£€æµ‹åˆ°èŠ‚ç‚¹æ•…éšœ</li>
<li>kube-publicï¼šè‡ªåŠ¨åˆ›å»ºä¸”æ‰€æœ‰ç”¨æˆ·å¯è¯»çš„namespaceï¼ˆåŒ…æ‹¬æœªç»èº«ä»½è®¤è¯çš„ï¼‰</li>
<li>kube-systemï¼šKubernetesç³»ç»Ÿåˆ›å»ºçš„å¯¹è±¡æ‰€åœ¨çš„namespace</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># åˆ—å‡ºç‰¹å®šçš„ns</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl get ns kube-public </span>
</span></span><span style="display:flex;"><span>NAME          STATUS   AGE
</span></span><span style="display:flex;"><span>kube-public   Active   7d
</span></span><span style="display:flex;"><span><span style="color:#75715e"># è·å–ç‰¹å®šçš„nsçš„æè¿°ä¿¡æ¯</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl describe ns kube-public </span>
</span></span><span style="display:flex;"><span>Name:         kube-public
</span></span><span style="display:flex;"><span>Labels:       kubernetes.io/metadata.name<span style="color:#f92672">=</span>kube-public
</span></span><span style="display:flex;"><span>Annotations:  &lt;none&gt;
</span></span><span style="display:flex;"><span>Status:       Active
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>No resource quota.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>No LimitRange resource.
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å¦‚æœé…ç½®äº†èµ„æºé…é¢ï¼Œå¯æŸ¥çœ‹ç±»ä¼¼ä¸‹é¢ä¿¡æ¯</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl describe ns quotatest </span>
</span></span><span style="display:flex;"><span>Name:         quotatest
</span></span><span style="display:flex;"><span>Labels:       kubernetes.io/metadata.name<span style="color:#f92672">=</span>quotatest
</span></span><span style="display:flex;"><span>Annotations:  &lt;none&gt;
</span></span><span style="display:flex;"><span>Status:       Active
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Resource Quotas
</span></span><span style="display:flex;"><span>  Name:     resource-test
</span></span><span style="display:flex;"><span>  Resource  Used  Hard
</span></span><span style="display:flex;"><span>  --------  ---   ---
</span></span><span style="display:flex;"><span>  pods      <span style="color:#ae81ff">1</span>     <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Resource Limits
</span></span><span style="display:flex;"><span> Type                   Resource  Min    Max  Default Request  Default Limit  Max Limit/Request Ratio
</span></span><span style="display:flex;"><span> ----                   --------  ---    ---  ---------------  -------------  -----------------------
</span></span><span style="display:flex;"><span> Container              cpu       100m   <span style="color:#ae81ff">1</span>    500m             <span style="color:#ae81ff">1</span>              -
</span></span><span style="display:flex;"><span> Container              memory    100Mi  1Gi  256Mi            512Mi          -
</span></span><span style="display:flex;"><span> PersistentVolumeClaim  storage   1Gi    2Gi  -                -              -
</span></span></code></pre></div><h3 id="åˆ›å»ºå’Œåˆ é™¤">åˆ›å»ºå’Œåˆ é™¤<a hidden class="anchor" aria-hidden="true" href="#åˆ›å»ºå’Œåˆ é™¤">#</a></h3>
<blockquote>
<p>è¯´æ˜ï¼šé¿å…ä½¿ç”¨å‰ç¼€<code>kube-</code>åˆ›å»ºæ–°çš„namespaceï¼Œå› ä¸ºå®ƒæ˜¯ä¸ºKubernetesç³»ç»Ÿnamespaceä¿ç•™çš„ã€‚</p>
</blockquote>
<p>Namespaceå‘½åè§„åˆ™:</p>
<ul>
<li>æœ€å¤š63ä¸ªå­—ç¬¦</li>
<li>åªèƒ½åŒ…å«å­—æ¯æ•°å­—,ä»¥åŠ&rsquo;-'</li>
<li>é¡»ä»¥å­—æ¯æˆ–æ•°å­—å¼€å¤´</li>
<li>é¡»ä»¥å­—æ¯æˆ–æ•°å­—ç»“å°¾</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 1. yamlæ–‡ä»¶æ–¹å¼åˆ›å»º</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># vim new_namespace_deemoprobe.yaml </span>
</span></span><span style="display:flex;"><span>apiVersion: v1
</span></span><span style="display:flex;"><span>kind: Namespace
</span></span><span style="display:flex;"><span>metadata:
</span></span><span style="display:flex;"><span>  name: deemoprobe
</span></span><span style="display:flex;"><span>  annotations:
</span></span><span style="display:flex;"><span>    type: create by yaml
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl apply -f new_namespace_deemoprobe.yaml </span>
</span></span><span style="display:flex;"><span>namespace/deemoprobe created
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl get ns deemoprobe --show-labels --show-kind </span>
</span></span><span style="display:flex;"><span>NAME                   STATUS   AGE   LABELS
</span></span><span style="display:flex;"><span>namespace/deemoprobe   Active   36s   kubernetes.io/metadata.name<span style="color:#f92672">=</span>deemoprobe
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2. å‘½ä»¤åˆ›å»º</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl create ns deemoprobe2</span>
</span></span><span style="display:flex;"><span>namespace/deemoprobe2 created
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl get ns deemoprobe2 --show-labels --show-kind </span>
</span></span><span style="display:flex;"><span>NAME                    STATUS   AGE   LABELS
</span></span><span style="display:flex;"><span>namespace/deemoprobe2   Active   12s   kubernetes.io/metadata.name<span style="color:#f92672">=</span>deemoprobe2
</span></span><span style="display:flex;"><span><span style="color:#75715e"># åˆ é™¤namespace=deemoprobe2</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl delete ns deemoprobe2</span>
</span></span><span style="display:flex;"><span>namespace <span style="color:#e6db74">&#34;deemoprobe2&#34;</span> deleted
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl get ns deemoprobe2 --show-labels --show-kind </span>
</span></span><span style="display:flex;"><span>Error from server <span style="color:#f92672">(</span>NotFound<span style="color:#f92672">)</span>: namespaces <span style="color:#e6db74">&#34;deemoprobe2&#34;</span> not found
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># æŒ‡å®šnamespaceæ“ä½œå…¶ä»–åœ¨namespaceä½œç”¨åŸŸä¸­çš„èµ„æºï¼Œå¦‚kubectl get pods --namespace=deemoprobe</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ç®€å†™ -n deemoprobe</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl get configmap -n deemoprobe </span>
</span></span><span style="display:flex;"><span>NAME               DATA   AGE
</span></span><span style="display:flex;"><span>kube-root-ca.crt   <span style="color:#ae81ff">1</span>      3m33s
</span></span></code></pre></div><h3 id="åˆ‡æ¢é»˜è®¤namespace">åˆ‡æ¢é»˜è®¤namespace<a hidden class="anchor" aria-hidden="true" href="#åˆ‡æ¢é»˜è®¤namespace">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># æŸ¥çœ‹å½“å‰æ‰€åœ¨namespaceï¼Œæ–°é›†ç¾¤å¦‚æœæŸ¥ä¸åˆ°ï¼Œå°±æ˜¯default</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl config view | grep namespace:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># è®¾ç½®å½“å‰namespaceä¸Šä¸‹æ–‡ï¼Œä½¿å¾—ç›¸åº”namespaceæˆä¸ºé»˜è®¤å€¼</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl config set-context --current --namespace deemoprobe</span>
</span></span><span style="display:flex;"><span>Context <span style="color:#e6db74">&#34;kubernetes-admin@kubernetes&#34;</span> modified.
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl config view | grep namespace:</span>
</span></span><span style="display:flex;"><span>    namespace: deemoprobe
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å›åˆ‡</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl config set-context --current --namespace default</span>
</span></span><span style="display:flex;"><span>Context <span style="color:#e6db74">&#34;kubernetes-admin@kubernetes&#34;</span> modified.
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl config view | grep namespace:</span>
</span></span><span style="display:flex;"><span>    namespace: default
</span></span></code></pre></div><h3 id="namespaceå·¥å…·">namespaceå·¥å…·<a hidden class="anchor" aria-hidden="true" href="#namespaceå·¥å…·">#</a></h3>
<p>å®‰è£…namespaceç®¡ç†å·¥å…·ï¼ˆkubensï¼‰æ›´å¿«æ·åœ°ç®¡ç†namespace</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># curl -L https://github.com/ahmetb/kubectx/releases/download/v0.9.4/kubens -o /bin/kubens</span>
</span></span><span style="display:flex;"><span>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
</span></span><span style="display:flex;"><span>                                 Dload  Upload   Total   Spent    Left  Speed
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">100</span>   <span style="color:#ae81ff">643</span>  <span style="color:#ae81ff">100</span>   <span style="color:#ae81ff">643</span>    <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">163</span>      <span style="color:#ae81ff">0</span>  0:00:03  0:00:03 --:--:--   <span style="color:#ae81ff">163</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">100</span>  <span style="color:#ae81ff">5555</span>  <span style="color:#ae81ff">100</span>  <span style="color:#ae81ff">5555</span>    <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">638</span>      <span style="color:#ae81ff">0</span>  0:00:08  0:00:08 --:--:--  <span style="color:#ae81ff">1704</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># chmod +x /bin/kubens </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubens -h</span>
</span></span><span style="display:flex;"><span>USAGE:
</span></span><span style="display:flex;"><span>  kubens                    : list the namespaces in the current context
</span></span><span style="display:flex;"><span>  kubens &lt;NAME&gt;             : change the active namespace of current context
</span></span><span style="display:flex;"><span>  kubens -                  : switch to the previous namespace in this context
</span></span><span style="display:flex;"><span>  kubens -c, --current      : show the current namespace
</span></span><span style="display:flex;"><span>  kubens -h,--help          : show this message
</span></span><span style="display:flex;"><span><span style="color:#75715e"># åˆ—å‡ºæ‰€æœ‰namespaceï¼Œ</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubens</span>
</span></span><span style="display:flex;"><span>deemoprobe
</span></span><span style="display:flex;"><span>default
</span></span><span style="display:flex;"><span>kube-node-lease
</span></span><span style="display:flex;"><span>kube-public
</span></span><span style="display:flex;"><span>kube-system
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æŸ¥çœ‹å½“å‰namespace</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubens -c</span>
</span></span><span style="display:flex;"><span>default
</span></span><span style="display:flex;"><span><span style="color:#75715e"># åˆ‡æ¢ä¸ºdeemoprobe</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubens deemoprobe</span>
</span></span><span style="display:flex;"><span>Context <span style="color:#e6db74">&#34;kubernetes-admin@kubernetes&#34;</span> modified.
</span></span><span style="display:flex;"><span>Active namespace is <span style="color:#e6db74">&#34;deemoprobe&#34;</span>.
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubens -c</span>
</span></span><span style="display:flex;"><span>deemoprobe
</span></span><span style="display:flex;"><span><span style="color:#75715e"># åˆ‡æ¢ä¸ºä¸Šä¸€ä¸ªnamespace</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubens -</span>
</span></span><span style="display:flex;"><span>Context <span style="color:#e6db74">&#34;kubernetes-admin@kubernetes&#34;</span> modified.
</span></span><span style="display:flex;"><span>Active namespace is <span style="color:#e6db74">&#34;default&#34;</span>.
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubens -c</span>
</span></span><span style="display:flex;"><span>default
</span></span></code></pre></div><h2 id="ä½¿ç”¨åœºæ™¯">ä½¿ç”¨åœºæ™¯<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨åœºæ™¯">#</a></h2>
<p>æ¯”å¦‚ï¼šæˆ‘ä»¬éœ€è¦&quot;æµ‹è¯•&quot;-&ldquo;å¼€å‘&rdquo;-&ldquo;ç”Ÿäº§&quot;è¿™å‡ ä¸ªç¯å¢ƒï¼Œå¯ä»¥åˆ’åˆ†ä¸‰ä¸ªNamespaceè¿›è¡Œæ“ä½œï¼Œä¸ºåç»­èµ„æºé…é¢å‡†å¤‡åŸºç¡€ç¯å¢ƒã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># vi namespace.yaml </span>
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>apiVersion: v1
</span></span><span style="display:flex;"><span>kind: Namespace
</span></span><span style="display:flex;"><span>metadata:
</span></span><span style="display:flex;"><span>  name: test
</span></span><span style="display:flex;"><span>  labels:
</span></span><span style="display:flex;"><span>    name: test
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>apiVersion: v1
</span></span><span style="display:flex;"><span>kind: Namespace
</span></span><span style="display:flex;"><span>metadata:
</span></span><span style="display:flex;"><span>  name: dev
</span></span><span style="display:flex;"><span>  labels:
</span></span><span style="display:flex;"><span>    name: dev
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>apiVersion: v1
</span></span><span style="display:flex;"><span>kind: Namespace
</span></span><span style="display:flex;"><span>metadata:
</span></span><span style="display:flex;"><span>  name: prod
</span></span><span style="display:flex;"><span>  labels:
</span></span><span style="display:flex;"><span>    name: prod
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl apply -f namespace.yaml </span>
</span></span><span style="display:flex;"><span>namespace/test created
</span></span><span style="display:flex;"><span>namespace/dev created
</span></span><span style="display:flex;"><span>namespace/prod created
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl get ns --show-labels</span>
</span></span><span style="display:flex;"><span>NAME              STATUS   AGE   LABELS
</span></span><span style="display:flex;"><span>dev               Active   64s   name<span style="color:#f92672">=</span>dev
</span></span><span style="display:flex;"><span>prod              Active   64s   name<span style="color:#f92672">=</span>prod
</span></span><span style="display:flex;"><span>test              Active   65s   name<span style="color:#f92672">=</span>test
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å…¨æ–°çš„Namespace, æœªè®¾ç½®ä»»ä½•èµ„æºé…é¢å’Œé™åˆ¶</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl describe ns test</span>
</span></span><span style="display:flex;"><span>Name:         test
</span></span><span style="display:flex;"><span>Labels:       name<span style="color:#f92672">=</span>test
</span></span><span style="display:flex;"><span>Annotations:  &lt;none&gt;
</span></span><span style="display:flex;"><span>Status:       Active
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>No resource quota.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>No LimitRange resource.
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl describe ns dev</span>
</span></span><span style="display:flex;"><span>Name:         dev
</span></span><span style="display:flex;"><span>Labels:       name<span style="color:#f92672">=</span>dev
</span></span><span style="display:flex;"><span>Annotations:  &lt;none&gt;
</span></span><span style="display:flex;"><span>Status:       Active
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>No resource quota.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>No LimitRange resource.
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@k8s-master01 ~<span style="color:#f92672">]</span><span style="color:#75715e"># kubectl describe ns prod</span>
</span></span><span style="display:flex;"><span>Name:         prod
</span></span><span style="display:flex;"><span>Labels:       name<span style="color:#f92672">=</span>prod
</span></span><span style="display:flex;"><span>Annotations:  &lt;none&gt;
</span></span><span style="display:flex;"><span>Status:       Active
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>No resource quota.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>No LimitRange resource.
</span></span></code></pre></div>

        </div>

        <footer class="post-footer">
            
<nav class="paginav">
  <a class="prev" href="https://deemoprobe.github.io/posts/tech/kubernetes/kubernetespod/">
    <span class="title">Â« ä¸Šä¸€é¡µ</span>
    <br>
    <span>KubernetesPod</span>
  </a>
  <a class="next" href="https://deemoprobe.github.io/posts/tech/kubernetes/kubernetescli/">
    <span class="title">ä¸‹ä¸€é¡µ Â»</span>
    <br>
    <span>Kuberntes CLI</span>
  </a>
</nav>

        </footer>
    </div>
</article>
</main>

<footer class="footer">
    
        <span id="runtime_span"></span>
        <script
            type="text/javascript">function show_runtime() { window.setTimeout("show_runtime()", 1000); X = new Date("1/1/2023 1:00:00"); Y = new Date(); T = (Y.getTime() - X.getTime()); M = 24 * 60 * 60 * 1000; a = T / M; A = Math.floor(a); b = (a - A) * 24; B = Math.floor(b); c = (b - B) * 60; C = Math.floor((b - B) * 60); D = Math.floor((c - C) * 60); runtime_span.innerHTML = "ç½‘ç«™å·²è¿è¡Œ" + A + "å¤©" + B + "å°æ—¶" + C + "åˆ†" + D + "ç§’" } show_runtime();</script>
    
    
    <br>
    <span>
        Copyright
        &copy;
        2022-2023
        <a href="https://deemoprobe.github.io/" style="color:#939393;">William&#39;s Blog</a>
        All Rights Reserved
    </span>
    
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <span class="topInner">
        <svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z"/>
        </svg>
        <span id="read_progress"></span>
    </span>
</a>

<script>
    document.addEventListener('scroll', function (e) {
        const readProgress = document.getElementById("read_progress");
        const scrollHeight = document.documentElement.scrollHeight;
        const clientHeight = document.documentElement.clientHeight;
        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
        readProgress.innerText = ((scrollTop / (scrollHeight - clientHeight)).toFixed(2) * 100).toFixed(0);
    })
</script>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });
</script>
<script>
    let mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };
</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        (function() {
            document.cookie = "change-themes" + "="+ escape ("false");
        })()

        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    });
</script>

<script>
    document.body.addEventListener('copy', function (e) {
        if (window.getSelection().toString() && window.getSelection().toString().length > 50) {
            let clipboardData = e.clipboardData || window.clipboardData;
            if (clipboardData) {
                e.preventDefault();
                let htmlData = window.getSelection().toString() +
                    '\r\n\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n' +
                    'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ'+"William's Blog"+'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚' +
                '\r\nåŸæ–‡é“¾æ¥ï¼š' + location.href;
                let textData = window.getSelection().toString() +
                    '\r\n\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n' +
                    'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ'+"William's Blog"+'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚' +
                '\r\nåŸæ–‡é“¾æ¥ï¼š' + location.href;
                clipboardData.setData('text/html', htmlData);
                clipboardData.setData('text/plain', textData);
            }
        }
    });
</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;
        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'ğŸ“„å¤åˆ¶';

        function copyingDone() {
            copybutton.innerText = 'ğŸ‘ŒğŸ»å·²å¤åˆ¶!';
            setTimeout(() => {
                copybutton.innerText = 'ğŸ“„å¤åˆ¶';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                let text = codeblock.textContent +
                    '\r\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n' +
                    'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ'+"William's Blog"+'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚' +
                '\r\nåŸæ–‡é“¾æ¥ï¼š' + location.href;
                navigator.clipboard.writeText(text);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) {}
            selection.removeRange(range);
        });

        let language = codeblock.className.replaceAll("language-", "")
        let macTool = document.createElement("div")
        let macTool1 = document.createElement("div")
        let macTool2 = document.createElement("div")
        let macTool3 = document.createElement("div")
        let languageType = document.createElement("div")
        languageType.innerText = language
        macTool.setAttribute('class', 'mac-tool')
        macTool1.setAttribute('class', 'mac bb1')
        macTool2.setAttribute('class', 'mac bb2')
        macTool3.setAttribute('class', 'mac bb3')
        languageType.setAttribute('class', 'language-type')
        macTool.appendChild(macTool1)
        macTool.appendChild(macTool2)
        macTool.appendChild(macTool3)
        macTool.appendChild(languageType)

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
            container.appendChild(macTool)
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
            container.appendChild(macTool)
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
            container.appendChild(macTool)
        }
    });
</script>

<script>
    $("code[class^=language] ").on("mouseover", function () {
        if (this.clientWidth < this.scrollWidth) {
            $(this).css("width", "135%")
            $(this).css("border-top-right-radius", "var(--radius)")
        }
    }).on("mouseout", function () {
        $(this).css("width", "100%")
        $(this).css("border-top-right-radius", "unset")
    })
</script>
</body>

</html>
